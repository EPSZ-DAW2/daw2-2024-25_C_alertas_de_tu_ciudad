-- --------------------------------------------------------------------------
-- Script de base de datos de Alertas de tu ciudad
-- Yii Framework - Proyecto C
-- (c) DAW2 - EPSZ - Universidad de Salamanca
-- --------------------------------------------------------------------------

SET FOREIGN_KEY_CHECKS = 0;
SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";

-- --------------------------------------------------------------------------
-- CREACIÓN DE LA BASE DE DATOS "proyecto_C"
-- --------------------------------------------------------------------------
DROP DATABASE IF EXISTS `proyecto_C`;
CREATE DATABASE IF NOT EXISTS `proyecto_C` CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci';
USE `proyecto_C`;

-- --------------------------------------------------------------------------
-- Tabla: ETIQUETAS - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `etiquetas`;
CREATE TABLE IF NOT EXISTS `etiquetas` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único de la etiqueta',
    `nombre` VARCHAR(255) NOT NULL COMMENT 'Nombre de la etiqueta',
    `descripcion` TEXT DEFAULT NULL COMMENT 'Descripción detallada de la etiqueta',
    `creado_en` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación de la etiqueta',
    `actualizado_en` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Fecha y hora de la última actualización de la etiqueta',
    PRIMARY KEY (`id`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `etiquetas` (`nombre`, `descripcion`) VALUES
    -- Etiquetas asociadas a la categoría "Clima y Medio Ambiente"
    ('Alerta meteorológica', 'Situaciones relacionadas con fenómenos meteorológicos extremos.'),
    ('Desastre natural', 'Eventos naturales que causan daños significativos, como terremotos o inundaciones.'),
    ('Inundación', 'Acumulación de agua en zonas que normalmente están secas.'),
    ('Tsunami', 'Olas gigantes generadas por terremotos o erupciones volcánicas.'),
    ('Crecida de cauce', 'Aumento del nivel de agua en ríos o arroyos que puede causar inundaciones.'),
    ('Sequía', 'Falta prolongada de lluvia que afecta el suministro de agua y la agricultura.'),
    ('Incendio forestal', 'Fuego que se propaga sin control en zonas boscosas o de vegetación.'),
    ('Ola de calor', 'Período prolongado de temperaturas extremadamente altas.'),
    ('Tormenta eléctrica', 'Tormentas acompañadas de rayos y truenos que pueden causar cortes de energía.'),
    ('Nevada intensa', 'Acumulación de nieve que puede afectar el transporte y las infraestructuras.'),
    -- Etiquetas asociadas a la categoría "Emergencias y Seguridad"
    ('Incendio', 'Fuego que se propaga y puede causar daños a propiedades o personas.'),
    ('Terremoto', 'Movimiento sísmico que puede causar daños estructurales.'),
    ('Robo', 'Actos delictivos que implican el hurto de bienes.'),
    ('Atentado', 'Ataque intencional que pone en riesgo la seguridad pública.'),
    ('Fuga de gas', 'Escape de gas que puede provocar explosiones o intoxicaciones.'),
    -- Etiquetas asociadas a la categoría "Tráfico y Transporte"
    ('Accidente de tráfico', 'Colisión o siniestro en la vía pública.'),
    ('Cierre de carretera', 'Bloqueo de una vía debido a obras, accidentes o eventos.'),
    ('Retraso en transporte', 'Demoras en el servicio de transporte público.'),
    ('Manifestación', 'Concentración de personas que puede afectar la circulación.'),
    -- Etiquetas asociadas a la categoría "Infraestructura y Servicios"
    ('Corte de agua', 'Interrupción del suministro de agua potable.'),
    ('Corte de luz', 'Interrupción del suministro eléctrico.'),
    ('Corte de gas', 'Interrupción del suministro de gas.'),
    ('Cierre de aeropuerto', 'Suspensión de operaciones en un aeropuerto.'),
    ('Fallo en carreteras', 'Problemas en la infraestructura vial que afectan la circulación.'),
    -- Etiquetas asociadas a la categoría "Salud y Bienestar"
    ('Brote de enfermedad', 'Aparición de casos de una enfermedad en una zona específica.'),
    ('Emergencia sanitaria', 'Situación crítica que requiere atención médica inmediata.'),
    ('Campaña de vacunación', 'Iniciativa para vacunar a la población contra una enfermedad.'),
    ('Contaminación del aire', 'Alta concentración de contaminantes en el aire que afecta la salud.'),
    -- Etiquetas asociadas a la categoría "Tecnología y Comunicaciones"
    ('Corte de internet', 'Interrupción del servicio de internet.'),
    ('Corte de telefonía', 'Interrupción del servicio de telefonía móvil o fija.'),
    ('Ciberataque', 'Ataque informático que afecta sistemas o servicios digitales.'),
    ('Fallo tecnológico', 'Problema técnico que interrumpe servicios o sistemas.'),
    -- Etiquetas asociadas a la categoría "Eventos y Cultura"
    ('Concierto', 'Evento musical en vivo.'),
    ('Festival', 'Celebración cultural o artística que puede incluir música, comida y actividades.'),
    ('Evento deportivo', 'Competición o partido de interés público.'),
    ('Feria', 'Evento comercial o cultural con stands y actividades.'),
    -- Etiquetas asociadas a la categoría "Economía y Sociedad"
    ('Crisis económica', 'Situación de inestabilidad financiera o recesión.'),
    ('Desabastecimiento', 'Escasez de productos esenciales como alimentos o medicinas.'),
    ('Subida de precios', 'Aumento significativo en el costo de bienes o servicios.'),
    ('Huelga', 'Paro laboral organizado que puede afectar servicios o empresas.');

-- --------------------------------------------------------------------------
-- Tabla: USUARIO - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `usuario`;
CREATE TABLE IF NOT EXISTS `usuario` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único para cada usuario',
    `email` VARCHAR(255) NOT NULL UNIQUE COMMENT 'Correo electrónico único del usuario',
    `password` VARCHAR(255) NOT NULL COMMENT 'Contraseña encriptada del usuario',
    `auth_key` VARCHAR(255) DEFAULT NULL COMMENT 'Clave de autenticación',
    `nick` VARCHAR(100) NOT NULL COMMENT 'Apodo o nombre de usuario',
    `username` VARCHAR(100) NOT NULL COMMENT 'Nombre de usuario',
    `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha de creación del usuario',
    `register_date` DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha de registro del usuario',
    `updated_at` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Última actualización del usuario',
    `confirmed` TINYINT(1) DEFAULT 0 COMMENT 'Indica si el usuario ha confirmado su registro',
    `role` ENUM('guest','usuario','moderator','admin','sysadmin') DEFAULT 'usuario' COMMENT 'Rol del usuario en el sistema',
    `attempts` INT(11) DEFAULT 0 COMMENT 'Intentos fallidos de acceso',
    `is_locked` TINYINT(1) DEFAULT 0 COMMENT 'Indica si el usuario está bloqueado',
    `locked` tinyint(1) DEFAULT 0 COMMENT 'Indica si el usuario está bloqueado',
    `phone` VARCHAR(15) DEFAULT NULL COMMENT 'Número de teléfono del usuario',
    `status` TINYINT(1) DEFAULT 0 COMMENT 'Estado del usuario',
    `profile_image` VARCHAR(255) DEFAULT NULL COMMENT 'Imagen de perfil del usuario',
    `failed_attempts` INT(11) DEFAULT 0 COMMENT 'Intentos fallidos de inicio de sesión',
    `estado_revisar` ENUM('revisada', 'no revisada') DEFAULT 'no revisada' COMMENT 'Estado de revisión del usuario',
    `respuesta` VARCHAR(255) DEFAULT NULL COMMENT 'Respuesta a la revisión del usuario',
    `eliminar_razon` TEXT DEFAULT NULL COMMENT 'Razón para la eliminación del usuario',
    PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- Inserción de datos con imágenes de perfil
INSERT INTO `usuario` (`email`, `password`, `auth_key`, `nick`, `username`, `register_date`, `created_at`, `updated_at`, `confirmed`, `role`, `attempts`, `is_locked`, `profile_image`) VALUES
    ('dj@usal.es', '$2y$13$IXRmKNxfNNMSd7DGQkFo3.aOUovcBEKYby3qojNLF761o4xXfX2.2', 'h5uq58uxdPNhFEmtStMDYoD2a8V60ebT', 'djPiri', 'djpiri', NOW(), NOW(), NOW(), 1, 'usuario', 0, 0, NULL),
    ('alba@mg.es', '$2y$13$ef9ObfZ.R7msNW9oCrvTlOMvFYupos5AXRmo2RahJzU7s2QzhCtyu', 'YswvC2pI-AXtqtcoi69oDHyJbwfhmy1N', 'alba', 'alba', NOW(), NOW(), NOW(), 1, 'admin', 0, 0, 'alba.jpg'),
    ('mem@usal.es', '$2y$13$hqt.XD489dM.v9JGloiNLeyE.W4B1fqkFQ26pXWAcN4WtHyc354KW', 'RUwSX2LdFVBK0tx0mDsT0ZbBhUQla5v8', 'mem1', 'mem1' , NOW(), NOW(), NOW(), 1, 'usuario', 0, 0, NULL);

-- --------------------------------------------------------------------------
-- Tabla: COMENTARIOS - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `comentarios`;
CREATE TABLE IF NOT EXISTS `comentarios` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único del comentario',
    `contenido` TEXT NOT NULL COMMENT 'Contenido del comentario',
    `numero_denuncias` INT(11) DEFAULT 0 COMMENT 'Número de veces que el comentario ha sido denunciado',
    `es_denunciado` TINYINT(1) DEFAULT 0 COMMENT 'Indica si el comentario ha sido marcado como denunciado',
    `es_visible` TINYINT(1) DEFAULT 1 COMMENT 'Indica si el comentario es visible para los usuarios',
    `es_cerrado` TINYINT(1) DEFAULT 0 COMMENT 'Indica si el comentario ha sido cerrado por un moderador',
    `creado_en` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación del comentario',
    `actualizado_en` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Fecha y hora de la última actualización',
    PRIMARY KEY (`id`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;

INSERT INTO `comentarios` (`contenido`, `numero_denuncias`, `es_denunciado`, `es_visible`, `es_cerrado`) VALUES
    ('Primer comentario de prueba', 0, 0, 1, 0),
    ('Segundo comentario denunciado', 2, 1, 1, 0),
    ('Tercer comentario bloqueado', 0, 0, 0, 0),
    ('Cuarto comentario cerrado', 0, 0, 1, 1),
    ('Quinto comentario activo', 1, 0, 1, 0);



-- --------------------------------------------------------------------------
-- Tabla: INCIDENCIA - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `incidencia`;
CREATE TABLE IF NOT EXISTS `incidencia` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'Identificador único de la incidencia',
    `titulo` VARCHAR(255) NOT NULL COMMENT 'Título de la incidencia',
    `descripcion` TEXT DEFAULT NULL COMMENT 'Descripción detallada de la incidencia',
    `fecha_creacion` DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación de la incidencia',
    `fecha_revision` DATETIME DEFAULT NULL COMMENT 'Fecha y hora de la revisión de la incidencia',
    `estado` ENUM('pendiente', 'procesada') DEFAULT 'pendiente' COMMENT 'Estado actual de la incidencia',
    `prioridad` ENUM('alta', 'media', 'baja') DEFAULT 'media' COMMENT 'Nivel de prioridad de la incidencia',
    `respuesta` TEXT DEFAULT NULL COMMENT 'Respuesta dada a la incidencia una vez revisada',
    PRIMARY KEY (`id`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `incidencia` (`titulo`, `descripcion`, `fecha_creacion`, `fecha_revision`, `estado`, `prioridad`, `respuesta`) VALUES
    ('Error de conexión', 'No se puede conectar al servidor de la base de datos.', '2025-01-23 10:00:00', NULL, 'pendiente', 'alta', NULL),
    ('API no responde', 'La API devuelve un error 500 al intentar obtener datos.', '2025-01-23 11:00:00', NULL, 'pendiente', 'media', NULL),
    ('Problema de inicio de sesión', 'Usuarios reportan que no pueden iniciar sesión.', '2025-01-23 12:00:00', NULL, 'pendiente', 'media', NULL),
    ('Carga lenta del sistema', 'El sistema tarda más de lo esperado en cargar datos.', '2025-01-23 13:00:00', NULL, 'pendiente', 'baja', NULL),
    ('Error desconocido en el servidor', 'Se produjo un error inesperado en el servidor.', '2025-01-23 14:00:00', NULL, 'pendiente', 'alta', NULL);



-- --------------------------------------------------------------------------
-- Tabla: UBICACION - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `ubicacion`;
CREATE TABLE `ubicacion` (
    `id` INT(12) NOT NULL AUTO_INCREMENT COMMENT 'Identificador único de la ubicación',
    `ub_code` TINYINT(2) NOT NULL COMMENT 'Código de clase de ubicación: 1=Continente, 2=País, 3=Comunidad Autónoma, 4=Provincia, 6=Localidad, 7=Barrio/Zona',
    `nombre` VARCHAR(50) NOT NULL COMMENT 'Nombre de la ubicación',
    `code_iso` VARCHAR(10) DEFAULT NULL COMMENT 'Código internacional de país/estado si aplica',
    `ub_code_padre` INT(12) NOT NULL COMMENT 'ID de la ubicación padre en la jerarquía',
    `latitud` DECIMAL(10, 6) DEFAULT NULL COMMENT 'Latitud de la ubicación para búsqueda en el mapa',
    `longitud` DECIMAL(10, 6) DEFAULT NULL COMMENT 'Longitud de la ubicación para búsqueda en el mapa',
    `fecha_creacion` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación de la ubicación',
    `is_revisada` BOOLEAN DEFAULT FALSE COMMENT 'Indica si la ubicación ha sido revisada',
    PRIMARY KEY (`id`),
    KEY `ub_code_padre` (`ub_code_padre`),
    CONSTRAINT `fk_ubicacion_padre` FOREIGN KEY (`ub_code_padre`) REFERENCES `ubicacion` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;

INSERT INTO `ubicacion` (`id`, `ub_code`, `nombre`, `code_iso`, `ub_code_padre`, `latitud`, `longitud`, `fecha_creacion`, `is_revisada`) VALUES
    (0, 0, 'Tierra', NULL, NULL, NULL, NULL, '2023-10-05 12:34:56', TRUE),
    (1, 1, 'África', 'AF', 0, -8.7832, 34.5085, '2023-03-15 08:45:23', TRUE),
    (2, 1, 'América', 'AM', 0, 8.7832, -55.4915, '2023-07-22 14:12:47', TRUE),
    (3, 1, 'Asia', 'AS', 0, 34.0479, 100.6197, '2023-05-10 09:30:11', TRUE),
    (4, 1, 'Europa', 'EU', 0, 54.5260, 15.2551, '2023-01-20 16:55:09', TRUE),
    (5, 1, 'Oceanía', 'OC', 0, -22.7359, 140.0188, '2023-09-18 11:22:33', TRUE),
    -- África
    (6, 2, 'Nigeria', 'NG', 1, 9.0820, 8.6753, '2023-04-05 10:15:00', TRUE),
    (7, 2, 'Sudáfrica', 'ZA', 1, -30.5595, 22.9375, '2023-08-12 18:30:45', TRUE),
    (8, 2, 'Egipto', 'EG', 1, 26.8206, 30.8025, '2023-02-28 07:45:22', TRUE),
    (9, 2, 'Kenia', 'KE', 1, -1.286389, 36.817223, '2023-06-19 13:20:10', TRUE),
    (10, 2, 'Ghana', 'GH', 1, 7.9465, -1.0232, '2023-10-05 09:00:00', TRUE),
    (11, 2, 'Argelia', 'DZ', 1, 28.0339, 1.6596, '2023-03-25 12:00:00', TRUE),
    (12, 2, 'Marruecos', 'MA', 1, 31.7917, -7.0926, '2023-07-30 15:45:30', TRUE),
    (13, 2, 'Etiopía', 'ET', 1, 9.1450, 40.4897, '2023-05-14 20:10:05', TRUE),
    (14, 2, 'Angola', 'AO', 1, -11.2027, 17.8739, '2023-09-01 22:55:12', TRUE),
    (15, 2, 'Tanzania', 'TZ', 1, -6.3690, 34.8888, '2023-04-22 17:30:00', TRUE),
    -- América
    (16, 2, 'Estados Unidos', 'US', 2, 37.0902, -95.7129, '2023-01-05 06:00:00', TRUE),
    (17, 2, 'Brasil', 'BR', 2, -14.2350, -51.9253, '2023-08-20 19:45:00', TRUE),
    (18, 2, 'Canadá', 'CA', 2, 56.1304, -106.3468, '2023-03-10 11:30:00', TRUE),
    (19, 2, 'Argentina', 'AR', 2, -38.4161, -63.6167, '2023-10-05 14:00:00', FALSE),
    (20, 2, 'México', 'MX', 2, 23.6345, -102.5528, '2023-06-25 09:15:00', FALSE),
    (21, 2, 'Colombia', 'CO', 2, 4.5709, -74.2973, '2023-02-15 16:45:00', FALSE),
    (22, 2, 'Chile', 'CL', 2, -35.6751, -71.5430, '2023-07-05 08:00:00', FALSE),
    (23, 2, 'Perú', 'PE', 2, -9.1900, -75.0152, '2023-05-30 12:30:00', FALSE),
    (24, 2, 'Venezuela', 'VE', 2, 6.4238, -66.5897, '2023-09-10 10:00:00', FALSE),
    (25, 2, 'Cuba', 'CU', 2, 21.5218, -77.7812, '2023-04-18 18:20:00', FALSE),
    -- Asia
    (26, 2, 'China', 'CN', 3, 35.8617, 104.1954, '2023-01-10 07:00:00', TRUE),
    (27, 2, 'India', 'IN', 3, 20.5937, 78.9629, '2023-08-05 14:30:00', TRUE),
    (28, 2, 'Japón', 'JP', 3, 36.2048, 138.2529, '2023-03-20 09:45:00', TRUE),
    (29, 2, 'Rusia', 'RU', 3, 61.5240, 105.3188, '2023-10-05 16:00:00', TRUE),
    (30, 2, 'Corea del Sur', 'KR', 3, 35.9078, 127.7669, '2023-06-15 12:00:00', TRUE),
    (31, 2, 'Indonesia', 'ID', 3, -0.7893, 113.9213, '2023-02-10 17:30:00', TRUE),
    (32, 2, 'Arabia Saudita', 'SA', 3, 23.8859, 45.0792, '2023-07-25 20:00:00', TRUE),
    (33, 2, 'Pakistán', 'PK', 3, 30.3753, 69.3451, '2023-05-05 10:15:00', TRUE),
    (34, 2, 'Bangladés', 'BD', 3, 23.6850, 90.3563, '2023-09-30 11:45:00', TRUE),
    (35, 2, 'Irán', 'IR', 3, 32.4279, 53.6880, '2023-04-10 13:00:00', TRUE),
    -- Europa
    (36, 2, 'Francia', 'FR', 4, 46.6034, 1.8883, '2023-01-15 08:30:00', TRUE),
    (37, 2, 'Alemania', 'DE', 4, 51.1657, 10.4515, '2023-08-10 19:00:00', TRUE),
    (38, 2, 'Italia', 'IT', 4, 41.8719, 12.5674, '2023-03-05 12:45:00', TRUE),
    (39, 2, 'Reino Unido', 'GB', 4, 55.3781, -3.4360, '2023-10-05 10:30:00', TRUE),
    (40, 2, 'Países Bajos', 'NL', 4, 52.1326, 5.2913, '2023-06-20 14:15:00', TRUE),
    (41, 2, 'Bélgica', 'BE', 4, 50.8503, 4.3517, '2023-02-25 16:00:00', TRUE),
    (42, 2, 'Portugal', 'PT', 4, 39.3999, -8.2245, '2023-07-15 09:30:00', TRUE),
    (43, 2, 'Suecia', 'SE', 4, 60.1282, 18.6435, '2023-05-10 11:00:00', TRUE),
    (44, 2, 'Noruega', 'NO', 4, 60.4720, 8.4689, '2023-09-05 18:45:00', TRUE),
    (45, 2, 'España', 'ES', 4, 40.4637, -3.7492, '2023-04-20 07:15:00', TRUE),
    -- Comunidades Autónomas de España
    (46, 3, 'Andalucía', 'AN', 45, 37.3828, -5.9700, '2023-01-30 10:00:00', TRUE),
    (47, 3, 'Cataluña', 'CT', 45, 41.5912, 1.5209, '2023-08-15 12:30:00', TRUE),
    (48, 3, 'Madrid', 'MD', 45, 40.4168, -3.7038, '2023-10-05 08:45:00', TRUE),
    (49, 3, 'Castilla y León', 'CY', 45, 41.5948, -4.0247, '2023-03-12 14:00:00', TRUE),
    (50, 3, 'Castilla-La Mancha', 'CL', 45, 39.9440, -3.1190, '2023-07-01 16:30:00', TRUE),
    (51, 3, 'Comunidad Valenciana', 'VC', 45, 39.4699, -0.3763, '2023-05-25 09:00:00', TRUE),
    (52, 3, 'Galicia', 'GA', 45, 42.8935, -8.3828, '2023-02-18 11:45:00', TRUE),
    (53, 3, 'País Vasco', 'PV', 45, 43.0634, -2.7123, '2023-09-10 13:15:00', TRUE),
    (54, 3, 'Aragón', 'AR', 45, 41.6460, -0.8891, '2023-04-05 17:00:00', TRUE),
    (55, 3, 'Canarias', 'CN', 45, 28.2916, -15.4237, '2023-06-30 20:00:00', TRUE),
    (56, 3, 'Extremadura', 'EX', 45, 39.1610, -6.0264, '2023-03-22 18:30:00', TRUE),
    (57, 3, 'Murcia', 'MC', 45, 37.9835, -1.1307, '2023-08-25 10:45:00', TRUE),
    (58, 3, 'Cantabria', 'CB', 45, 43.1820, -3.9876, '2023-05-15 12:00:00', TRUE),
    (59, 3, 'La Rioja', 'RI', 45, 42.3449, -2.5100, '2023-10-05 15:30:00', TRUE),
    (60, 3, 'Navarra', 'NA', 45, 42.6956, -1.6765, '2023-07-20 14:45:00', TRUE),
    (61, 3, 'Asturias', 'AS', 45, 43.3664, -5.8495, '2023-02-10 09:30:00', TRUE),
    (62, 3, 'Baleares', 'IB', 45, 39.6953, 3.0176, '2023-09-05 11:00:00', TRUE),
    (63, 3, 'Ceuta', 'CE', 45, 35.8896, -5.3162, '2023-04-18 16:15:00', TRUE),
    (64, 3, 'Melilla', 'ML', 45, 35.2932, -2.9380, '2023-06-10 19:00:00', TRUE),
    -- Provincias de España
    (65, 4, 'Almería', 'AL', 46, 36.8340, -2.4637, '2023-01-20 08:00:00', TRUE),
    (66, 4, 'Cádiz', 'CA', 46, 36.5271, -6.2886, '2023-08-05 12:30:00', TRUE),
    (67, 4, 'Córdoba', 'CO', 46, 37.8882, -4.7794, '2023-10-05 10:00:00', TRUE),
    (68, 4, 'Granada', 'GR', 46, 37.1773, -3.5986, '2023-03-15 14:45:00', TRUE),
    (69, 4, 'Huelva', 'HU', 46, 37.2614, -6.9447, '2023-07-10 16:30:00', TRUE),
    (70, 4, 'Jaén', 'JA', 46, 37.7694, -3.7886, '2023-05-25 09:15:00', TRUE),
    (71, 4, 'Málaga', 'MA', 46, 36.7213, -4.4213, '2023-02-28 11:00:00', TRUE),
    (72, 4, 'Sevilla', 'SE', 46, 37.3891, -5.9845, '2023-09-15 18:00:00', TRUE),
    (73, 4, 'Huesca', 'HS', 54, 42.1363, -0.4089, '2023-04-10 13:45:00', TRUE),
    (74, 4, 'Teruel', 'TR', 54, 39.8667, -1.7167, '2023-06-20 15:30:00', TRUE),
    (75, 4, 'Zaragoza', 'ZG', 54, 41.6488, -0.8891, '2023-10-05 12:00:00', TRUE),
    (76, 4, 'Asturias', 'AS', 61, 43.3619, -5.8494, '2023-03-05 10:15:00', TRUE),
    (77, 4, 'Baleares', 'IB', 62, 39.5696, 2.6502, '2023-08-22 14:00:00', TRUE),
    (78, 4, 'Álava', 'AL', 53, 42.8460, -2.6719, '2023-05-15 16:45:00', TRUE),
    (79, 4, 'Guipúzcoa', 'GP', 53, 43.2572, -1.9780, '2023-02-10 09:30:00', TRUE),
    (80, 4, 'Vizcaya', 'VI', 53, 43.2630, -2.9350, '2023-07-30 12:00:00', TRUE),
    (81, 4, 'Las Palmas', 'LP', 55, 28.1235, -15.4363, '2023-01-25 11:45:00', TRUE),
    (82, 4, 'Santa Cruz de Tenerife', 'ST', 55, 28.4682, -16.2546, '2023-09-10 17:30:00', TRUE),
    (83, 4, 'Cantabria', 'CA', 58, 43.1828, -3.9878, '2023-04-20 10:00:00', TRUE),
    (84, 4, 'Albacete', 'AB', 50, 38.9943, -1.8560, '2023-06-05 14:15:00', TRUE),
    (85, 4, 'Ciudad Real', 'CR', 50, 38.9864, -3.9296, '2023-03-30 16:00:00', TRUE),
    (86, 4, 'Cuenca', 'CU', 50, 40.0702, -2.1374, '2023-08-15 09:45:00', TRUE),
    (87, 4, 'Guadalajara', 'GU', 50, 40.6333, -3.1667, '2023-05-10 12:30:00', TRUE),
    (88, 4, 'Toledo', 'TL', 50, 39.8628, -4.0273, '2023-10-05 13:00:00', TRUE),
    (89, 4, 'Ávila', 'AV', 49, 40.6566, -4.7058, '2023-02-20 15:45:00', TRUE),
    (90, 4, 'Burgos', 'BU', 49, 42.3400, -3.7000, '2023-07-05 18:00:00', TRUE),
    (91, 4, 'León', 'LE', 49, 42.5987, -5.5671, '2023-04-15 10:30:00', TRUE),
    (92, 4, 'Palencia', 'PA', 49, 42.0095, -4.5280, '2023-09-25 11:15:00', TRUE),
    (93, 4, 'Salamanca', 'SA', 49, 40.9701, -5.6635, '2023-03-10 14:00:00', TRUE),
    (94, 4, 'Segovia', 'SG', 49, 40.9526, -4.1089, '2023-06-30 16:45:00', TRUE),
    (95, 4, 'Soria', 'SO', 49, 41.7636, -2.4659, '2023-01-15 09:00:00', TRUE),
    (96, 4, 'Valladolid', 'VA', 49, 41.6523, -4.7245, '2023-08-10 12:30:00', TRUE),
    (97, 4, 'Zamora', 'ZA', 49, 41.5030, -5.7440, '2023-05-20 15:00:00', TRUE),
    (98, 4, 'Barcelona', 'BC', 47, 41.3851, 2.1734, '2023-02-05 10:45:00', TRUE),
    (99, 4, 'Girona', 'GI', 47, 41.9794, 2.8214, '2023-07-22 14:15:00', TRUE),
    (100, 4, 'Lleida', 'LL', 47, 41.6176, 0.6200, '2023-04-25 17:30:00', TRUE),
    (101, 4, 'Tarragona', 'TA', 47, 41.1189, 1.2445, '2023-09-15 19:00:00', TRUE),
    (102, 4, 'Badajoz', 'BD', 56, 38.8794, -6.9706, '2023-03-18 11:00:00', TRUE),
    (103, 4, 'Cáceres', 'CC', 56, 39.4767, -6.3722, '2023-06-10 13:45:00', TRUE),
    (104, 4, 'A Coruña', 'AC', 52, 43.3623, -8.4115, '2023-01-30 16:00:00', TRUE),
    (105, 4, 'Lugo', 'LU', 52, 43.0120, -7.5568, '2023-08-05 09:30:00', TRUE),
    (106, 4, 'Ourense', 'OU', 52, 42.3370, -7.8636, '2023-05-15 12:15:00', TRUE),
    (107, 4, 'Pontevedra', 'PO', 52, 42.4310, -8.6440, '2023-10-05 14:45:00', TRUE),
    (108, 4, 'La Rioja', 'LR', 59, 42.4650, -2.4500, '2023-02-22 18:00:00', TRUE),
    (109, 4, 'Madrid', 'MD', 48, 40.4168, -3.7038, '2023-07-10 10:00:00', TRUE),
    (110, 4, 'Murcia', 'MU', 57, 37.9922, -1.1307, '2023-04-05 15:30:00', TRUE),
    (111, 4, 'Navarra', 'NV', 60, 42.6956, -1.6765, '2023-09-20 12:45:00', TRUE),
    (112, 4, 'Alicante', 'AL', 51, 38.3452, -0.4810, '2023-03-25 14:00:00', TRUE),
    (113, 4, 'Castellón', 'CA', 51, 39.9864, -0.0514, '2023-06-15 16:15:00', TRUE),
    (114, 4, 'Valencia', 'VA', 51, 39.4699, -0.3763, '2023-01-10 09:45:00', TRUE),
    -- Ciudades de cada provincia
    (115, 6, 'Almería', NULL, 65, 36.8400, -2.4700, '2023-02-15 10:30:00', TRUE),
    (116, 6, 'El Ejido', NULL, 65, 36.7800, -2.8000, '2023-08-20 12:45:00', TRUE),
    (117, 6, 'Roquetas de Mar', NULL, 65, 36.7500, -2.4000, '2023-10-05 11:00:00', TRUE),
    (118, 6, 'Cádiz', NULL, 66, 36.5271, -6.2886, '2023-03-10 14:15:00', TRUE),
    (119, 6, 'Jerez de la Frontera', NULL, 66, 36.6850, -6.1370, '2023-07-25 16:30:00', TRUE),
    (120, 6, 'Algeciras', NULL, 66, 36.1408, -5.4500, '2023-05-30 18:45:00', TRUE),
    (121, 6, 'Córdoba', NULL, 67, 37.8882, -4.7794, '2023-01-20 09:00:00', TRUE),
    (122, 6, 'Puente Genil', NULL, 67, 37.8500, -4.6500, '2023-09-15 11:15:00', TRUE),
    (123, 6, 'Montilla', NULL, 67, 37.6800, -4.5600, '2023-04-10 13:30:00', TRUE),
    (124, 6, 'Granada', NULL, 68, 37.1773, -3.5986, '2023-08-05 15:45:00', TRUE),
    (125, 6, 'Motril', NULL, 68, 36.7500, -3.8500, '2023-02-28 17:00:00', TRUE),
    (126, 6, 'Loja', NULL, 68, 37.1667, -3.2833, '2023-06-20 19:15:00', TRUE),
    (127, 6, 'Huelva', NULL, 69, 37.2614, -6.9447, '2023-03-15 10:30:00', TRUE),
    (128, 6, 'Lepe', NULL, 69, 37.2000, -6.9000, '2023-07-10 12:45:00', TRUE),
    (129, 6, 'Moguer', NULL, 69, 37.3000, -6.9500, '2023-05-25 14:00:00', TRUE),
    (130, 6, 'Jaén', NULL, 70, 37.7694, -3.7886, '2023-01-30 16:15:00', TRUE),
    (131, 6, 'Linares', NULL, 70, 37.7833, -3.4500, '2023-09-05 18:30:00', TRUE),
    (132, 6, 'Andújar', NULL, 70, 37.7600, -3.2600, '2023-04-20 20:45:00', TRUE),
    (133, 6, 'Málaga', NULL, 71, 36.7213, -4.4213, '2023-02-10 09:00:00', TRUE),
    (134, 6, 'Marbella', NULL, 71, 36.5100, -4.8820, '2023-08-15 11:15:00', TRUE),
    (135, 6, 'Mijas', NULL, 71, 36.6000, -4.6333, '2023-06-30 13:30:00', TRUE),
    (136, 6, 'Sevilla', NULL, 72, 37.3891, -5.9845, '2023-03-25 15:45:00', TRUE),
    (137, 6, 'Dos Hermanas', NULL, 72, 37.2833, -5.9500, '2023-07-20 17:00:00', TRUE),
    (138, 6, 'Alcalá de Guadaíra', NULL, 72, 37.3639, -5.8933, '2023-05-15 19:15:00', TRUE),
    (139, 6, 'Huesca', NULL, 73, 42.1363, -0.4089, '2023-01-10 10:30:00', TRUE),
    (140, 6, 'Jaca', NULL, 73, 42.5725, -0.5396, '2023-09-10 12:45:00', TRUE),
    (141, 6, 'Monzón', NULL, 73, 41.4500, -0.3167, '2023-04-05 14:00:00', TRUE),
    (142, 6, 'Teruel', NULL, 74, 39.8667, -1.7167, '2023-08-22 16:15:00', TRUE),
    (143, 6, 'Alcañiz', NULL, 74, 41.0431, -0.5683, '2023-02-18 18:30:00', TRUE),
    (144, 6, 'Mora de Rubielos', NULL, 74, 40.6439, -1.0833, '2023-06-15 20:45:00', TRUE),
    (145, 6, 'Zaragoza', NULL, 75, 41.6488, -0.8891, '2023-03-30 09:00:00', TRUE),
    (146, 6, 'Calatayud', NULL, 75, 41.4533, -1.0328, '2023-07-25 11:15:00', TRUE),
    (147, 6, 'Ejea de los Caballeros', NULL, 75, 41.8031, -0.6961, '2023-05-10 13:30:00', TRUE),
    (148, 6, 'Oviedo', NULL, 76, 43.3619, -5.8494, '2023-01-25 15:45:00', TRUE),
    (149, 6, 'Gijón', NULL, 76, 43.5322, -5.6611, '2023-09-05 17:00:00', TRUE),
    (150, 6, 'Avilés', NULL, 76, 43.5547, -5.9298, '2023-04-20 19:15:00', TRUE),
    (151, 6, 'Palma de Mallorca', NULL, 77, 39.5696, 2.6502, '2023-02-15 10:30:00', TRUE),
    (152, 6, 'Mahón', NULL, 77, 39.8880, 4.2640, '2023-08-10 12:45:00', TRUE),
    (153, 6, 'Ibiza', NULL, 77, 38.9067, 1.4206, '2023-06-25 14:00:00', TRUE),
    (154, 6, 'Vitoria-Gasteiz', NULL, 78, 42.8460, -2.6719, '2023-03-18 16:15:00', TRUE),
    (155, 6, 'Llodio', NULL, 78, 43.0436, -2.9590, '2023-07-30 18:30:00', TRUE),
    (156, 6, 'Amurrio', NULL, 78, 42.8540, -2.7780, '2023-05-20 20:45:00', TRUE),
    (157, 6, 'San Sebastián', NULL, 79, 43.3183, -1.9812, '2023-01-15 09:00:00', TRUE),
    (158, 6, 'Irun', NULL, 79, 43.3426, -1.7880, '2023-09-15 11:15:00', TRUE),
    (159, 6, 'Tolosa', NULL, 79, 43.1670, -2.0320, '2023-04-10 13:30:00', TRUE),
    (160, 6, 'Bilbao', NULL, 80, 43.2630, -2.9350, '2023-02-05 15:45:00', TRUE),
    (161, 6, 'Barakaldo', NULL, 80, 43.3000, -2.9400, '2023-08-20 17:00:00', TRUE),
    (162, 6, 'Getxo', NULL, 80, 43.3500, -3.0200, '2023-06-15 19:15:00', TRUE),
    (163, 6, 'Las Palmas de Gran Canaria', NULL, 81, 28.1235, -15.4363, '2023-03-10 10:30:00', TRUE),
    (164, 6, 'Telde', NULL, 81, 27.9800, -15.5500, '2023-07-25 12:45:00', TRUE),
    (165, 6, 'Arucas', NULL, 81, 28.1330, -15.4370, '2023-05-30 14:00:00', TRUE),
    (166, 6, 'Santa Cruz de Tenerife', NULL, 82, 28.4682, -16.2546, '2023-01-20 16:15:00', TRUE),
    (167, 6, 'San Cristóbal de La Laguna', NULL, 82, 28.4845, -16.3190, '2023-09-10 18:30:00', TRUE),
    (168, 6, 'Arona', NULL, 82, 28.1000, -16.7000, '2023-04-25 20:45:00', TRUE),
    (169, 6, 'Santander', NULL, 83, 43.1828, -3.9878, '2023-02-28 09:00:00', TRUE),
    (170, 6, 'Torrelavega', NULL, 83, 43.3490, -4.0200, '2023-08-15 11:15:00', TRUE),
    (171, 6, 'Castro Urdiales', NULL, 83, 43.3360, -3.4900, '2023-06-20 13:30:00', TRUE),
    (172, 6, 'Albacete', NULL, 84, 38.9943, -1.8560, '2023-03-15 15:45:00', TRUE),
    (173, 6, 'Hellín', NULL, 84, 39.2167, -1.2667, '2023-07-10 17:00:00', TRUE),
    (174, 6, 'Villarrobledo', NULL, 84, 39.1333, -1.6333, '2023-05-25 19:15:00', TRUE),
    (175, 6, 'Ciudad Real', NULL, 85, 38.9864, -3.9296, '2023-01-30 10:30:00', TRUE),
    (176, 6, 'Puertollano', NULL, 85, 38.7000, -4.1000, '2023-09-05 12:45:00', TRUE),
    (177, 6, 'Alcázar de San Juan', NULL, 85, 39.0000, -3.8500, '2023-04-20 14:00:00', TRUE),
    (178, 6, 'Cuenca', NULL, 86, 40.0702, -2.1374, '2023-02-15 16:15:00', TRUE),
    (179, 6, 'Tarancón', NULL, 86, 40.0500, -2.2500, '2023-08-22 18:30:00', TRUE),
    (180, 6, 'San Clemente', NULL, 86, 40.1000, -2.1000, '2023-06-15 20:45:00', TRUE),
    (181, 6, 'Guadalajara', NULL, 87, 40.6333, -3.1667, '2023-03-10 09:00:00', TRUE),
    (182, 6, 'Azuqueca de Henares', NULL, 87, 40.1667, -3.2500, '2023-07-25 11:15:00', TRUE),
    (183, 6, 'Cabanillas del Campo', NULL, 87, 40.5000, -3.2000, '2023-05-30 13:30:00', TRUE),
    (184, 6, 'Toledo', NULL, 88, 39.8628, -4.0273, '2023-01-20 15:45:00', TRUE),
    (185, 6, 'Talavera de la Reina', NULL, 88, 39.9500, -4.4500, '2023-09-15 17:00:00', TRUE),
    (186, 6, 'Illescas', NULL, 88, 39.8500, -4.2000, '2023-04-10 19:15:00', TRUE),
    (187, 6, 'Ávila', NULL, 89, 40.6566, -4.7058, '2023-02-28 10:30:00', TRUE),
    (188, 6, 'Arévalo', NULL, 89, 40.2500, -5.1700, '2023-08-05 12:45:00', TRUE),
    (189, 6, 'Arenas de San Pedro', NULL, 89, 40.3000, -5.2000, '2023-06-20 14:00:00', TRUE),
    (190, 6, 'Burgos', NULL, 90, 42.3400, -3.7000, '2023-03-18 16:15:00', TRUE),
    (191, 6, 'Miranda de Ebro', NULL, 90, 42.8000, -3.4500, '2023-07-30 18:30:00', TRUE),
    (192, 6, 'Aranda de Duero', NULL, 90, 41.6470, -3.6810, '2023-05-15 20:45:00', TRUE),
    (193, 6, 'León', NULL, 91, 42.5987, -5.5671, '2023-01-10 09:00:00', TRUE),
    (194, 6, 'Ponferrada', NULL, 91, 42.5464, -5.5636, '2023-09-10 11:15:00', TRUE),
    (195, 6, 'Astorga', NULL, 91, 42.0000, -6.0667, '2023-04-05 13:30:00', TRUE),
    (196, 6, 'Palencia', NULL, 92, 42.0095, -4.5280, '2023-02-15 15:45:00', TRUE),
    (197, 6, 'Guardo', NULL, 92, 42.1500, -4.7000, '2023-08-20 17:00:00', TRUE),
    (198, 6, 'Venta de Baños', NULL, 92, 42.0167, -4.4000, '2023-06-15 19:15:00', TRUE),
    (199, 6, 'Salamanca', NULL, 93, 40.9701, -5.6635, '2023-03-25 10:30:00', TRUE),
    (200, 6, 'Béjar', NULL, 93, 40.0667, -5.5000, '2023-07-10 12:45:00', TRUE),
    (201, 6, 'Ciudad Rodrigo', NULL, 93, 40.5000, -6.0000, '2023-05-25 14:00:00', TRUE),
    (202, 6, 'Segovia', NULL, 94, 40.9526, -4.1089, '2023-01-30 16:15:00', TRUE),
    (203, 6, 'Cuéllar', NULL, 94, 41.2333, -4.3333, '2023-09-05 18:30:00', TRUE),
    (204, 6, 'Sepúlveda', NULL, 94, 41.1500, -4.7000, '2023-04-20 20:45:00', TRUE),
    (205, 6, 'Soria', NULL, 95, 41.7636, -2.4659, '2023-02-10 09:00:00', TRUE),
    (206, 6, 'Almazán', NULL, 95, 41.6000, -2.4500, '2023-08-15 11:15:00', TRUE),
    (207, 6, 'Calahorra de Boedo', NULL, 95, 41.7500, -2.5000, '2023-06-30 13:30:00', TRUE),
    (208, 6, 'Valladolid', NULL, 96, 41.6523, -4.7245, '2023-03-15 15:45:00', TRUE),
    (209, 6, 'Medina del Campo', NULL, 96, 41.0100, -4.9000, '2023-07-20 17:00:00', TRUE),
    (210, 6, 'Laguna de Duero', NULL, 96, 41.3900, -4.7400, '2023-05-15 19:15:00', TRUE),
    (211, 6, 'Zamora', NULL, 97, 41.5030, -5.7440, '2023-01-25 10:30:00', TRUE),
    (212, 6, 'Benavente', NULL, 97, 41.2000, -5.6500, '2023-09-10 12:45:00', TRUE),
    (213, 6, 'Toro', NULL, 97, 41.3100, -5.7000, '2023-04-25 14:00:00', TRUE),
    (214, 6, 'Barcelona', NULL, 98, 41.3851, 2.1734, '2023-02-28 16:15:00', TRUE),
    (215, 6, 'L\'Hospitalet de Llobregat', NULL, 98, 41.3662, 2.1167, '2023-08-22 18:30:00', TRUE),
    (216, 6, 'Badalona', NULL, 98, 41.4500, 2.2500, '2023-06-15 20:45:00', TRUE),
    (217, 6, 'Girona', NULL, 99, 41.9794, 2.8214, '2023-03-10 09:00:00', TRUE),
    (218, 6, 'Figueres', NULL, 99, 42.2671, 2.9667, '2023-07-25 11:15:00', TRUE),
    (219, 6, 'Blanes', NULL, 99, 41.6757, 2.8195, '2023-05-30 13:30:00', TRUE),
    (220, 6, 'Lleida', NULL, 100, 41.6176, 0.6200, '2023-01-20 15:45:00', TRUE),
    (221, 6, 'Balaguer', NULL, 100, 41.7000, 0.7500, '2023-09-15 17:00:00', TRUE),
    (222, 6, 'Mollerussa', NULL, 100, 41.6667, 0.7500, '2023-04-10 19:15:00', TRUE),
    (223, 6, 'Tarragona', NULL, 101, 41.1189, 1.2445, '2023-02-15 10:30:00', TRUE),
    (224, 6, 'Reus', NULL, 101, 41.1565, 1.1069, '2023-08-05 12:45:00', TRUE),
    (225, 6, 'Valls', NULL, 101, 41.1667, 1.2000, '2023-06-20 14:00:00', TRUE),
    (226, 6, 'Badajoz', NULL, 102, 38.8794, -6.9706, '2023-03-18 16:15:00', TRUE),
    (227, 6, 'Mérida', NULL, 102, 38.9170, -6.3370, '2023-07-30 18:30:00', TRUE),
    (228, 6, 'Don Benito', NULL, 102, 38.9000, -5.2000, '2023-05-15 20:45:00', TRUE),
    (229, 6, 'Cáceres', NULL, 103, 39.4767, -6.3722, '2023-01-10 09:00:00', TRUE),
    (230, 6, 'Plasencia', NULL, 103, 40.0333, -6.3667, '2023-09-10 11:15:00', TRUE),
    (231, 6, 'Navalmoral de la Mata', NULL, 103, 39.7000, -6.8000, '2023-04-05 13:30:00', TRUE),
    (232, 6, 'A Coruña', NULL, 104, 43.3623, -8.4115, '2023-02-28 15:45:00', TRUE),
    (233, 6, 'Santiago de Compostela', NULL, 104, 42.8800, -8.5457, '2023-08-20 17:00:00', TRUE),
    (234, 6, 'Ferrol', NULL, 104, 43.4833, -8.2500, '2023-06-15 19:15:00', TRUE),
    (235, 6, 'Lugo', NULL, 105, 43.0120, -7.5568, '2023-03-25 10:30:00', TRUE),
    (236, 6, 'Monforte de Lemos', NULL, 105, 42.4667, -7.6000, '2023-07-10 12:45:00', TRUE),
    (237, 6, 'Vilalba', NULL, 105, 42.6500, -7.7000, '2023-05-25 14:00:00', TRUE),
    (238, 6, 'Ourense', NULL, 106, 42.3370, -7.8636, '2023-01-30 16:15:00', TRUE),
    (239, 6, 'Verín', NULL, 106, 42.1730, -7.7330, '2023-09-05 18:30:00', TRUE),
    (240, 6, 'O Barco de Valdeorras', NULL, 106, 42.4500, -7.6000, '2023-04-20 20:45:00', TRUE),
    (241, 6, 'Pontevedra', NULL, 107, 42.4310, -8.6440, '2023-02-10 09:00:00', TRUE),
    (242, 6, 'Vigo', NULL, 107, 42.2406, -8.7207, '2023-08-15 11:15:00', TRUE),
    (243, 6, 'Vilagarcía de Arousa', NULL, 107, 42.6833, -8.5833, '2023-06-30 13:30:00', TRUE),
    (244, 6, 'Logroño', NULL, 108, 42.4667, -2.4500, '2023-03-15 15:45:00', TRUE),
    (245, 6, 'Calahorra', NULL, 108, 42.4667, -2.4667, '2023-07-20 17:00:00', TRUE),
    (246, 6, 'Haro', NULL, 108, 42.5333, -2.6333, '2023-05-15 19:15:00', TRUE),
    (247, 6, 'Madrid', NULL, 109, 40.4168, -3.7038, '2023-01-25 10:30:00', TRUE),
    (248, 6, 'Móstoles', NULL, 109, 40.3225, -3.8650, '2023-09-10 12:45:00', TRUE),
    (249, 6, 'Alcorcón', NULL, 109, 40.3468, -3.8260, '2023-04-25 14:00:00', TRUE),
    (250, 6, 'Murcia', NULL, 110, 37.9922, -1.1307, '2023-02-28 16:15:00', TRUE),
    (251, 6, 'Cartagena', NULL, 110, 37.6250, -0.9860, '2023-08-22 18:30:00', TRUE),
    (252, 6, 'Lorca', NULL, 110, 37.6833, -1.7000, '2023-06-15 20:45:00', TRUE),
    (253, 6, 'Pamplona', NULL, 111, 42.8163, -1.6458, '2023-03-10 09:00:00', TRUE),
    (254, 6, 'Tudela', NULL, 111, 42.0667, -1.6500, '2023-07-25 11:15:00', TRUE),
    (255, 6, 'Estella', NULL, 111, 42.3167, -1.9667, '2023-05-30 13:30:00', TRUE),
    (256, 6, 'Alicante', NULL, 112, 38.3452, -0.4810, '2023-01-20 15:45:00', TRUE),
    (257, 6, 'Elche', NULL, 112, 38.2699, -0.7126, '2023-09-15 17:00:00', TRUE),
    (258, 6, 'Benidorm', NULL, 112, 38.5411, -0.1220, '2023-04-10 19:15:00', TRUE),
    (259, 6, 'Castellón de la Plana', NULL, 113, 39.9864, -0.0514, '2023-02-15 10:30:00', TRUE),
    (260, 6, 'Vinaròs', NULL, 113, 40.5000, 0.1167, '2023-08-05 12:45:00', TRUE),
    (261, 6, 'Onda', NULL, 113, 39.8833, -0.1500, '2023-06-20 14:00:00', TRUE),
    (262, 6, 'Valencia', NULL, 114, 39.4699, -0.3763, '2023-03-18 16:15:00', TRUE),
    (263, 6, 'Gandía', NULL, 114, 38.9667, -0.1833, '2023-07-30 18:30:00', TRUE),
    (264, 6, 'Torrent', NULL, 114, 39.4667, -0.4667, '2023-05-15 20:45:00', TRUE),
    -- Barrios de Zamora
    (265, 7, 'Barrio de Pantoja', NULL, 211, 41.5030, -5.7440, '2023-01-10 09:00:00', TRUE),
    (266, 7, 'Barrio del Sepulcro', NULL, 211, 41.5030, -5.7440, '2023-09-10 11:15:00', TRUE),
    (267, 7, 'Barrio de Alviar', NULL, 211, 41.5030, -5.7440, '2023-04-05 13:30:00', TRUE),
    (268, 7, 'Barriada de Asturias', NULL, 211, 41.5030, -5.7440, '2023-02-28 15:45:00', TRUE),
    (269, 7, 'Barrio de Los Bloques', NULL, 211, 41.5030, -5.7440, '2023-08-20 17:00:00', TRUE),
    (270, 7, 'Barrio de Cabañales', NULL, 211, 41.5030, -5.7440, '2023-06-15 19:15:00', TRUE),
    (271, 7, 'Barrio de La Candelaria', NULL, 211, 41.5030, -5.7440, '2023-03-25 10:30:00', TRUE),
    (272, 7, 'Barrio de Carrascal', NULL, 211, 41.5030, -5.7440, '2023-07-10 12:45:00', TRUE),
    (273, 7, 'Barrios Bajos', NULL, 211, 41.5030, -5.7440, '2023-05-25 14:00:00', TRUE),
    (274, 7, 'Barrio de la Lana', NULL, 211, 41.5030, -5.7440, '2023-01-30 16:15:00', TRUE),
    (275, 7, 'Barrio de Las Llamas', NULL, 211, 41.5030, -5.7440, '2023-09-05 18:30:00', TRUE),
    (276, 7, 'Barrio de Olivares', NULL, 211, 41.5030, -5.7440, '2023-04-20 20:45:00', TRUE),
    (277, 7, 'Barrio de Peña Trevinca', NULL, 211, 41.5030, -5.7440, '2023-02-10 09:00:00', TRUE),
    (278, 7, 'Barrio de Pinilla', NULL, 211, 41.5030, -5.7440, '2023-08-15 11:15:00', TRUE),
    (279, 7, 'Barrio de Rabiche', NULL, 211, 41.5030, -5.7440, '2023-06-30 13:30:00', TRUE),
    (280, 7, 'Barrio de San Frontis', NULL, 211, 41.5030, -5.7440, '2023-03-15 15:45:00', TRUE),
    (281, 7, 'Barrio de San Isidro, Espíritu Santo y Obelisco', NULL, 211, 41.5030, -5.7440, '2023-07-20 17:00:00', TRUE),
    (282, 7, 'Barrio de San José Obrero', NULL, 211, 41.5030, -5.7440, '2023-05-15 19:15:00', TRUE),
    (283, 7, 'Barrio de San Lázaro', NULL, 211, 41.5030, -5.7440, '2023-01-25 10:30:00', TRUE),
    (284, 7, 'Barrio de El Sepulcro', NULL, 211, 41.5030, -5.7440, '2023-09-10 12:45:00', TRUE),
    (285, 7, 'Barrio de Villagodio', NULL, 211, 41.5030, -5.7440, '2023-04-25 14:00:00', TRUE),
    (286, 7, 'Barrio de Las Viñas', NULL, 211, 41.5030, -5.7440, '2023-02-28 16:15:00', TRUE),
    -- Barrios de Salamanca
    (287, 7, 'Centro', NULL, 199, 40.9701, -5.6635, '2023-03-10 09:00:00', TRUE),
    (288, 7, 'Universidad', NULL, 199, 40.9701, -5.6635, '2023-07-25 11:15:00', TRUE),
    (289, 7, 'San Vicente', NULL, 199, 40.9701, -5.6635, '2023-05-30 13:30:00', TRUE),
    (290, 7, 'Sancti-Spiritus', NULL, 199, 40.9701, -5.6635, '2023-01-20 15:45:00', TRUE),
    (291, 7, 'San Juan', NULL, 199, 40.9701, -5.6635, '2023-09-15 17:00:00', TRUE),
    (292, 7, 'Tenerías', NULL, 199, 40.9701, -5.6635, '2023-04-10 19:15:00', TRUE),
    (293, 7, 'Úrsulas', NULL, 199, 40.9701, -5.6635, '2023-02-15 10:30:00', TRUE),
    (294, 7, 'San Cristóbal', NULL, 199, 40.9701, -5.6635, '2023-08-05 12:45:00', TRUE),
    (295, 7, 'San Esteban', NULL, 199, 40.9701, -5.6635, '2023-06-20 14:00:00', TRUE),
    (296, 7, 'Alamedilla', NULL, 199, 40.9701, -5.6635, '2023-03-18 16:15:00', TRUE),
    (297, 7, 'Delicias', NULL, 199, 40.9701, -5.6635, '2023-07-30 18:30:00', TRUE),
    (298, 7, 'San Isidro', NULL, 199, 40.9701, -5.6635, '2023-05-15 20:45:00', TRUE),
    (299, 7, 'Prosperidad', NULL, 199, 40.9701, -5.6635, '2023-01-10 09:00:00', TRUE),
    (300, 7, 'Rollo-Las Pajas', NULL, 199, 40.9701, -5.6635, '2023-09-10 11:15:00', TRUE),
    (301, 7, 'Fontana', NULL, 199, 40.9701, -5.6635, '2023-04-05 13:30:00', TRUE),
    (302, 7, 'Santo Tomás', NULL, 199, 40.9701, -5.6635, '2023-02-28 15:45:00', TRUE),
    (303, 7, 'Puente Ladrillo', NULL, 199, 40.9701, -5.6635, '2023-08-20 17:00:00', TRUE),
    (304, 7, 'Labradores', NULL, 199, 40.9701, -5.6635, '2023-06-15 19:15:00', TRUE),
    (305, 7, 'Salesas', NULL, 199, 40.9701, -5.6635, '2023-03-25 10:30:00', TRUE),
    (306, 7, 'Garrido Norte', NULL, 199, 40.9701, -5.6635, '2023-07-10 12:45:00', TRUE),
    (307, 7, 'Garrido Sur', NULL, 199, 40.9701, -5.6635, '2023-05-25 14:00:00', TRUE),
    (308, 7, 'Chinchibarra', NULL, 199, 40.9701, -5.6635, '2023-01-30 16:15:00', TRUE),
    (309, 7, 'Estación', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (310, 7, 'Glorieta', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (311, 7, 'Barrio del Oeste', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (312, 7, 'San Bernardo', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (313, 7, 'Chamberí', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (314, 7, 'Barrio Blanco', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (315, 7, 'Buenos Aires', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (316, 7, 'Capuchinos', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (317, 7, 'Carmelitas', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (318, 7, 'Barrio del Carmen', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (319, 7, 'Pizarrales', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (320, 7, 'La Candelaria', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (321, 7, 'La Vega', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (322, 7, 'Teso de la Feria', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (323, 7, 'Vistahermosa', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (324, 7, 'Alambres-San Buenaventura', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (325, 7, 'El Zurguén', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (326, 7, 'Tejares', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (327, 7, 'Los Reyes', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (328, 7, 'El Rincón', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (329, 7, 'La Platina', NULL, 199, 40.9701, -5.6635, NOW(), TRUE),
    (330, 7, 'Las Mimosas', NULL, 199, 40.9701, -5.6635, NOW(), TRUE);

-- --------------------------------------------------------------------------
-- Tabla: CATEGORIAS - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `categorias`;
CREATE TABLE IF NOT EXISTS `categorias` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único de la categoría',
    `nombre` VARCHAR(255) NOT NULL COMMENT 'Nombre de la categoría',
    `descripcion` TEXT DEFAULT NULL COMMENT 'Descripción detallada de la categoría',
    `id_padre` INT(11) DEFAULT NULL COMMENT 'ID de la categoría padre (subcategorias)',
    `id_etiqueta` INT(11) DEFAULT NULL COMMENT 'ID de la etiqueta relacionada',
    PRIMARY KEY (`id`),
    KEY `id_padre` (`id_padre`),
    KEY `id_etiqueta` (`id_etiqueta`),
    CONSTRAINT `categorias_ibfk_1` FOREIGN KEY (`id_padre`) REFERENCES `categorias` (`id`) ON DELETE SET NULL,
    CONSTRAINT `categorias_ibfk_2` FOREIGN KEY (`id_etiqueta`) REFERENCES `etiquetas` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `categorias` (`nombre`, `descripcion`, `id_padre`, `id_etiqueta`) VALUES
    ('Tráfico y Transporte', 'Eventos relacionados con accidentes, cierres de vías, retrasos en transporte público y condiciones viales.', NULL, NULL),
    ('Clima y Medio Ambiente', 'Alertas meteorológicas, desastres naturales, fenómenos atmosféricos y problemas ambientales.', NULL, NULL),
    ('Emergencias y Seguridad', 'Situaciones de crisis como incendios, terremotos, robos, atentados y fugas de gas.', NULL, NULL),
    ('Infraestructura y Servicios', 'Eventos que afectan infraestructuras críticas como cortes de agua, luz, gas, aeropuertos y servicios públicos.', NULL, NULL),
    ('Salud y Bienestar', 'Alertas relacionadas con brotes de enfermedades, emergencias sanitarias y eventos de salud pública.', NULL, NULL),
    ('Tecnología y Comunicaciones', 'Fallos tecnológicos, ciberataques, interrupciones en servicios digitales y eventos de innovación.', NULL, NULL),
    ('Eventos y Cultura', 'Eventos culturales, deportivos, festivos, conciertos, ferias y actividades comunitarias.', NULL, NULL),
    ('Economía y Sociedad', 'Crisis económicas, desabastecimiento de productos, subidas de precios y eventos sociales o financieros.', NULL, NULL);


-- --------------------------------------------------------------------------
-- Tabla: ALERTAS - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `alertas`;
CREATE TABLE IF NOT EXISTS `alertas` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único para cada alerta',
    `titulo` VARCHAR(255) NOT NULL COMMENT 'Título de la alerta',
    `descripcion` TEXT NOT NULL COMMENT 'Descripción detallada de la alerta',
    `id_categoria` INT(11) DEFAULT NULL COMMENT 'ID de la categoria relacionada',
    `estado` ENUM('pendiente', 'completado') DEFAULT 'pendiente' COMMENT 'Estado actual de la alerta',
    `fecha_creacion` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación de la alerta',
    `fecha_expiracion` TIMESTAMP NULL DEFAULT NULL COMMENT 'Fecha y hora de expiración de la alerta',
    `completado_en` TIMESTAMP NULL DEFAULT NULL COMMENT 'Fecha y hora en la que se completó la alerta',
    `usuario_id` INT(11) DEFAULT NULL COMMENT 'ID del usuario que publicó la alerta',
    `id_etiqueta` INT(11) DEFAULT NULL COMMENT 'ID de la etiqueta relacionada',
    `id_ubicacion` INT(11) NULL COMMENT 'Referencia a la tabla ubicacion',
    `id_imagen` INT(11) NULL COMMENT 'Referencia a la tabla imagenes',
    PRIMARY KEY (`id`),
    KEY `id_ubicacion` (`id_ubicacion`),
    CONSTRAINT `alertas_fk_categoria` FOREIGN KEY (`id_categoria`) REFERENCES `categorias` (`id`) ON DELETE SET NULL,
    CONSTRAINT `alertas_ibfk_2` FOREIGN KEY (`id_ubicacion`) REFERENCES `ubicacion` (`id`) ON DELETE SET NULL
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `alertas` (`titulo`, `descripcion`, `id_categoria`, `estado`, `fecha_creacion`, `id_ubicacion`, `id_imagen`) VALUES
    ('Tormenta severa en Europa', 'Una tormenta severa afecta grandes áreas de Europa, con fuertes vientos que superan los 100 km/h y lluvias torrenciales que han causado inundaciones en varias regiones. Se han reportado cortes de electricidad, caída de árboles y daños en infraestructuras. Las autoridades han emitido alertas rojas en varias zonas y recomiendan evitar desplazamientos innecesarios.', 2, 'pendiente', '2025-02-25 15:11:45', 4, NULL),
    ('Inundaciones en España', 'Varios ríos en España se han desbordado debido a las intensas lluvias, causando inundaciones en zonas cercanas. Se han registrado cortes en carreteras principales, evacuaciones de viviendas y daños en cultivos. Los equipos de emergencia están trabajando para rescatar a personas atrapadas y proporcionar asistencia a los afectados.', 2, 'pendiente', '2025-02-25 15:11:45', 45, NULL),
    ('Incendio en Andalucía', 'Un gran incendio forestal se ha declarado en Andalucía, amenazando varias viviendas y áreas naturales protegidas. Las altas temperaturas y los fuertes vientos están dificultando las labores de extinción. Se han evacuado varias localidades y se ha solicitado ayuda aérea para controlar las llamas.', 2, 'pendiente', '2025-02-25 15:11:45', 46, NULL),
    ('Nevadas en Aragón', 'Una fuerte nevada ha afectado la región de Aragón, acumulando más de 50 cm de nieve en algunas zonas. Varias carreteras han quedado bloqueadas, y se han activado protocolos de emergencia para garantizar el suministro de alimentos y medicinas en las áreas más aisladas.', 2, 'pendiente', '2025-02-25 15:11:45', 54, NULL),
    ('Accidente de tráfico en Asturias', 'Una colisión múltiple en la autopista A-8 ha dejado varios heridos y ha causado retenciones de varios kilómetros. Los servicios de emergencia están atendiendo a las víctimas y desviando el tráfico para evitar mayores complicaciones.', 1, 'pendiente', '2025-02-25 15:11:45', 61, NULL),
    ('Temporal en Islas Baleares', 'Un temporal con vientos huracanados y lluvias intensas ha afectado las Islas Baleares, causando daños en infraestructuras y cortes de electricidad. Se han cancelado varios vuelos y servicios marítimos debido a las condiciones adversas.', 2, 'pendiente', '2025-02-25 15:11:45', 62, NULL),
    ('Emergencia volcánica en Canarias', 'Se ha detectado un aumento en la actividad volcánica en una de las islas Canarias, lo que ha llevado a las autoridades a activar un plan de emergencia. Se están realizando evacuaciones preventivas en las zonas de mayor riesgo.', 2, 'pendiente', '2025-02-25 15:11:45', 55, NULL),
    ('Cierre de carreteras en Cantabria', 'Varios derrumbes causados por las fuertes lluvias han bloqueado carreteras en Cantabria. Los equipos de mantenimiento están trabajando para despejar las vías, pero se recomienda evitar la zona hasta que se resuelva la situación.', 4, 'pendiente', '2025-02-25 15:11:45', 58, NULL),
    ('Ola de calor en Extremadura', 'Una ola de calor con temperaturas superiores a los 45°C está afectando Extremadura. Las autoridades han emitido alertas sanitarias y recomiendan hidratarse adecuadamente y evitar la exposición al sol durante las horas centrales del día.', 2, 'pendiente', '2025-02-25 15:11:45', 56, NULL),
    ('Temporal en Galicia', 'Lluvias intensas y vientos fuertes están afectando Galicia, causando inundaciones y cortes de electricidad. Se han registrado daños en viviendas y cultivos, y se recomienda precaución al circular por carreteras secundarias.', 2, 'pendiente', '2025-02-25 15:11:45', 52, NULL),
    ('Manifestación en Madrid', 'Una gran manifestación en el centro de Madrid ha provocado cortes de tráfico y afectado la movilidad en la zona. La policía está coordinando el tráfico y garantizando la seguridad de los manifestantes.', 1, 'pendiente', '2025-02-25 15:11:45', 48, NULL),
    ('Terremoto en Murcia', 'Un terremoto de magnitud 5.2 se ha registrado en Murcia, causando daños menores en edificios y cortes de electricidad en algunas zonas. No se han reportado heridos graves, pero las autoridades están evaluando los daños.', 3, 'pendiente', '2025-02-25 15:11:45', 57, NULL),
    ('Granizada en Navarra', 'Una fuerte granizada ha causado daños en viviendas y vehículos en Navarra. Las precipitaciones han sido tan intensas que han dejado calles cubiertas de hielo, dificultando la circulación.', 2, 'pendiente', '2025-02-25 15:11:45', 60, NULL),
    ('Tornado en La Rioja', 'Un tornado ha tocado tierra en La Rioja, causando daños estructurales en varias localidades. Los vientos extremadamente fuertes han derribado árboles y postes eléctricos, dejando a varias comunidades sin suministro.', 3, 'pendiente', '2025-02-25 15:11:45', 59, NULL),
    ('Explosión en el País Vasco', 'Una fuerte explosión en una zona industrial del País Vasco ha causado daños en edificios cercanos. Los equipos de emergencia están investigando las causas y atendiendo a los heridos.', 3, 'pendiente', '2025-02-25 15:11:45', 53, NULL),
    ('Robo masivo en la Comunidad Valenciana', 'Una ola de robos nocturnos ha afectado a varias tiendas en la Comunidad Valenciana. La policía está investigando los hechos y ha aumentado la presencia en la zona para prevenir nuevos incidentes.', 3, 'pendiente', '2025-02-25 15:11:45', 51, NULL),
    ('Emergencia sanitaria en Ceuta', 'Se ha detectado un brote de una enfermedad infecciosa en Ceuta. Las autoridades sanitarias están trabajando para contener la propagación y han activado un protocolo de emergencia.', 5, 'pendiente', '2025-02-25 15:11:45', 63, NULL),
    ('Cierre de puerto en Melilla', 'El fuerte oleaje ha obligado a cerrar el puerto de Melilla, suspendiendo todos los servicios marítimos. Se recomienda a los pasajeros consultar con las compañías antes de viajar.', 4, 'pendiente', '2025-02-25 15:11:45', 64, NULL),
    ('Incendio en Salamanca', 'Un incendio en una zona industrial de Salamanca ha provocado evacuaciones preventivas. Los bomberos están trabajando para controlar las llamas y evitar que se propague a áreas residenciales.', 2, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Corte de agua en Salamanca', 'Un mantenimiento programado ha interrumpido el suministro de agua en varias zonas de Salamanca. Se espera que el servicio se restablezca en las próximas horas.', 4, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Fallo en el transporte público', 'Problemas técnicos en los autobuses urbanos de Salamanca están causando retrasos en las rutas. La empresa de transporte está trabajando para solucionar la incidencia lo antes posible.', 1, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Concierto en el centro', 'Un gran concierto en la Plaza Mayor de Salamanca ha provocado cortes de tráfico en el centro de la ciudad. Se recomienda utilizar transporte público o rutas alternativas.', 7, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Feria del libro', 'La feria del libro en Salamanca ofrece actividades culturales y presentaciones de autores. El evento ha atraído a numerosos visitantes y ha generado un ambiente festivo en la ciudad.', 7, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Contaminación del aire', 'Se ha detectado un aumento en la concentración de partículas en suspensión en Salamanca, lo que ha llevado a las autoridades a emitir una alerta sanitaria. Se recomienda evitar actividades al aire libre.', 5, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Manifestación en Plaza Mayor', 'Una manifestación pacífica en la Plaza Mayor de Salamanca ha afectado la movilidad en el centro. La policía está coordinando el tráfico para minimizar las molestias.', 1, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Fuga de gas en Garrido', 'Una fuga de gas en una tubería principal ha obligado a evacuar varios edificios en el barrio de Garrido. Los equipos de emergencia están trabajando para reparar la avería.', 3, 'pendiente', '2025-02-25 15:11:45', 306, NULL),
    ('Accidente de tráfico en Cementerio', 'Una colisión múltiple en la avenida principal del barrio del Cementerio ha dejado varios heridos. Los servicios de emergencia están atendiendo a las víctimas y desviando el tráfico.', 1, 'pendiente', '2025-02-25 15:11:45', 319, NULL),
    ('Robo en Pizarrales', 'Un asalto en un comercio del barrio de Pizarrales ha terminado con un enfrentamiento policial. No se han reportado heridos graves, pero se ha aumentado la presencia policial en la zona.', 3, 'pendiente', '2025-02-25 15:11:45', 319, NULL),
    ('Corte eléctrico en San José', 'Un fallo en la red eléctrica ha dejado sin luz a varios hogares en el barrio de San José. La compañía eléctrica está trabajando para restablecer el suministro.', 4, 'pendiente', '2025-02-25 15:11:45', 316, NULL),
    ('Mercado medieval', 'Un mercado medieval en la Plaza Mayor de Salamanca ha atraído a numerosos visitantes. El evento incluye actividades recreativas y gastronomía tradicional.', 7, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Corte de agua programado', 'Un mantenimiento de tuberías en Salamanca ha interrumpido el suministro de agua en varias zonas. Se espera que el servicio se restablezca en las próximas horas.', 4, 'pendiente', '2025-02-25 15:11:45', 199, NULL),
    ('Fuga de agua en Garrido', 'Una fuga de agua en una tubería principal ha afectado a varias calles del barrio de Garrido. Los equipos de mantenimiento están trabajando para reparar la avería.', 4, 'pendiente', '2025-02-25 15:11:45', 306, NULL),
    ('Actividad comunitaria', 'Una jornada de limpieza y actividades vecinales se está llevando a cabo en el barrio de Garrido. El evento promueve la convivencia y el cuidado del entorno.', 7, 'pendiente', '2025-02-25 15:11:45', 306, NULL),
    ('Corte de tráfico por obras', 'Obras de reparación en la avenida principal del barrio del Cementerio han provocado cortes de tráfico. Se recomienda utilizar rutas alternativas.', 1, 'pendiente', '2025-02-25 15:11:45', 319, NULL),
    ('Actividad cultural', 'Una exposición de arte en el centro cultural del barrio del Cementerio ha atraído a numerosos visitantes. El evento incluye obras de artistas locales.', 7, 'pendiente', '2025-02-25 15:11:45', 319, NULL),
    ('Robo en comercio local', 'Un asalto a un supermercado en el barrio de Pizarrales ha generado alarma entre los vecinos. La policía está investigando el incidente.', 3, 'pendiente', '2025-02-25 15:11:45', 319, NULL),
    ('Feria de barrio', 'Una feria local en el barrio de Pizarrales ofrece actividades para toda la familia, incluyendo juegos, talleres y puestos de comida tradicional. El evento ha generado un ambiente festivo y ha fortalecido la convivencia entre los vecinos.', 7, 'pendiente', '2025-02-25 15:11:45', 319, NULL),
    ('Corte de luz programado', 'Un mantenimiento programado de la red eléctrica en el barrio de San José ha dejado sin luz a varias viviendas. La compañía eléctrica ha informado que el suministro se restablecerá en las próximas horas.', 4, 'pendiente', '2025-02-25 15:11:45', 316, NULL),
    ('Evento deportivo', 'Un torneo de fútbol en el polideportivo del barrio de San José ha reunido a equipos locales. El evento promueve el deporte y la convivencia entre los vecinos.', 7, 'pendiente', '2025-02-25 15:11:45', 316, NULL),
    ('Oleaje extremo en Zamora', 'El fuerte oleaje en el río Duero ha causado inundaciones en zonas cercanas a Zamora. Las autoridades han emitido alertas y están monitoreando la situación para evitar daños mayores.', 2, 'pendiente', '2025-02-25 15:11:45', 211, NULL),
    ('Corte de luz en Zamora', 'Un fallo en la red eléctrica ha dejado sin suministro a varios barrios de Zamora. Los equipos técnicos están trabajando para restablecer la electricidad lo antes posible.', 4, 'pendiente', '2025-02-25 15:11:45', 211, NULL),
    ('Festival de música', 'Un festival de música en el casco antiguo de Zamora ha atraído a numerosos visitantes. El evento incluye actuaciones de artistas locales y nacionales, y ha generado cortes de tráfico en la zona.', 7, 'pendiente', '2025-02-25 15:11:45', 211, NULL),
    ('Accidente de tráfico en la periferia', 'Una colisión entre dos vehículos en la carretera de acceso a Zamora ha dejado varios heridos. Los servicios de emergencia están atendiendo a las víctimas y desviando el tráfico.', 1, 'pendiente', '2025-02-25 15:11:45', 211, NULL),
    ('Feria gastronómica', 'Una feria gastronómica en el centro de Zamora ofrece degustaciones de platos tradicionales y actividades culturales. El evento ha atraído a numerosos visitantes y ha generado un ambiente festivo.', 7, 'pendiente', '2025-02-25 15:11:45', 211, NULL),
    ('Alerta por vientos fuertes', 'Rachas de viento de hasta 80 km/h están afectando la ciudad de Zamora. Las autoridades recomiendan precaución al circular y asegurar objetos que puedan ser arrastrados por el viento.', 3, 'pendiente', '2025-02-25 15:11:45', 211, NULL),
    ('Emergencia química en Casco Antiguo', 'Un derrame de sustancias químicas en un almacén industrial del Casco Antiguo ha provocado la evacuación de varias calles. Los equipos de emergencia están trabajando para contener el derrame y garantizar la seguridad de los vecinos.', 3, 'pendiente', '2025-02-25 15:11:45', 265, NULL),
    ('Desperfectos por tormenta en San Lázaro', 'Las fuertes lluvias en San Lázaro han causado daños en infraestructuras y cortes de electricidad. Los equipos de mantenimiento están trabajando para reparar los desperfectos.', 2, 'pendiente', '2025-02-25 15:11:45', 283, NULL),
    ('Explosión en San José Obrero', 'Una fuga de gas en un edificio residencial de San José Obrero ha provocado una explosión. Los servicios de emergencia están atendiendo a los heridos y evaluando los daños.', 3, 'pendiente', '2025-02-25 15:11:45', 282, NULL),
    ('Corte de comunicaciones en Pinilla', 'Un fallo en la red de comunicaciones ha dejado sin servicio de telefonía e internet a los residentes de Pinilla. Los técnicos están trabajando para resolver la incidencia.', 6, 'pendiente', '2025-02-25 15:11:45', 278, NULL),
    ('Derrumbe en Los Bloques', 'El colapso de una estructura antigua en Los Bloques ha dejado atrapadas a varias personas. Los equipos de rescate están trabajando para liberar a los afectados.', 4, 'pendiente', '2025-02-25 15:11:45', 269, NULL),
    ('Inundaciones en La Candelaria', 'Las fuertes lluvias han causado el desbordamiento del alcantarillado en La Candelaria, provocando inundaciones en varias calles. Los equipos de emergencia están bombeando el agua y ayudando a los afectados.', 2, 'pendiente', '2025-02-25 15:11:45', 271, NULL),
    ('Emergencia sanitaria en Cabañales', 'Un brote de virus estomacal en Cabañales ha llevado a las autoridades sanitarias a activar un protocolo de emergencia. Se recomienda a los residentes tomar precauciones y seguir las indicaciones de las autoridades.', 5, 'pendiente', '2025-02-25 15:11:45', 270, NULL),
    ('Fallo energético en Pantoja', 'Un corte de electricidad ha dejado sin suministro a toda la comunidad de Pantoja. Los técnicos están trabajando para restablecer la energía lo antes posible.', 4, 'pendiente', '2025-02-25 15:11:45', 265, NULL),
    ('Oleada de robos en San Frontis', 'Un incremento en los robos a comercios locales en San Frontis ha generado preocupación entre los vecinos. La policía ha aumentado la presencia en la zona para prevenir nuevos incidentes.', 3, 'pendiente', '2025-02-25 15:11:45', 280, NULL),
    ('Granizada en Las Viñas', 'Una tormenta de granizo ha causado daños en vehículos y tejados en Las Viñas. Las autoridades recomiendan precaución y revisar los seguros para cubrir los daños.', 2, 'pendiente', '2025-02-25 15:11:45', 286, NULL),
    ('Tornado en San Isidro', 'Un tornado ha tocado tierra en San Isidro, causando daños estructurales en varias viviendas. Los servicios de emergencia están evaluando los daños y ayudando a los afectados.', 3, 'pendiente', '2025-02-25 15:11:45', 281, NULL),
    ('Festival de cine', 'Un festival de cine al aire libre en el casco antiguo ha atraído a numerosos visitantes. El evento incluye proyecciones de películas independientes y actividades culturales.', 7, 'pendiente', '2024-02-25 15:11:45', 265, NULL),
    ('Corte de tráfico por evento', 'Un evento cultural en el centro de la ciudad ha provocado cortes de tráfico en varias calles. Se recomienda utilizar rutas alternativas para evitar retrasos.', 1, 'pendiente', '2024-02-25 15:11:45', 265, NULL),
    ('Fuga de gas en San Lázaro', 'Una fuga de gas en San Lázaro ha obligado a evacuar varios edificios. Los equipos de emergencia están trabajando para reparar la avería y garantizar la seguridad de los vecinos.', 3, 'pendiente', '2025-02-25 15:11:45', 283, NULL),
    ('Actividad vecinal', 'Una jornada de limpieza y actividades comunitarias en San Lázaro ha reunido a los vecinos para mejorar el entorno. El evento promueve la convivencia y el cuidado del barrio.', 7, 'pendiente', '2025-02-25 15:11:45', 283, NULL),
    ('Corte de agua programado', 'Un mantenimiento de tuberías en San José Obrero ha interrumpido el suministro de agua en varias calles. Se espera que el servicio se restablezca en las próximas horas.', 4, 'pendiente', '2025-02-25 15:11:45', 282, NULL),
    ('Evento cultural', 'Un concierto en el parque del barrio de San José Obrero ha atraído a numerosos visitantes. El evento incluye actuaciones de artistas locales y actividades para toda la familia.', 7, 'pendiente', '2025-02-25 15:11:45', 282, NULL),
    ('Robo en vivienda', 'Un asalto a una vivienda en Pinilla ha generado alarma entre los vecinos. La policía está investigando el incidente y ha aumentado la presencia en la zona.', 3, 'pendiente', '2025-02-25 15:11:45', 278, NULL),
    ('Feria de barrio', 'Una feria local en Pinilla ofrece actividades para toda la familia, incluyendo juegos, talleres y puestos de comida tradicional. El evento ha generado un ambiente festivo y ha fortalecido la convivencia entre los vecinos.', 7, 'pendiente', '2025-02-25 15:11:45', 278, NULL),
    ('Corte de luz por mantenimiento', 'Un mantenimiento de la red eléctrica en Los Bloques ha dejado sin luz a varias viviendas. La compañía eléctrica ha informado que el suministro se restablecerá en las próximas horas.', 4, 'pendiente', '2025-02-25 15:11:45', 269, NULL),
    ('Actividad deportiva', 'Un torneo de baloncesto en el polideportivo de Los Bloques ha reunido a equipos locales. El evento promueve el deporte y la convivencia entre los vecinos.', 7, 'pendiente', '2025-02-25 15:11:45', 269, NULL),
    ('Sequía extrema en África', 'La peor sequía en décadas afecta al continente africano, provocando escasez de agua y pérdidas agrícolas. Organizaciones humanitarias piden ayuda internacional.', 2, 'pendiente', '2025-03-01 09:15:00', 1, NULL),
    ('Huracán en Estados Unidos', 'Un huracán categoría 4 amenaza la costa este de EE.UU., con evacuaciones masivas y cierre de aeropuertos. Vientos superan los 200 km/h.', 2, 'pendiente', '2025-03-01 10:20:00', 16, NULL),
    ('Terremoto en Japón', 'Un terremoto de magnitud 7.2 sacude la región de Kansai, causando daños en infraestructuras y alerta de tsunami.', 3, 'pendiente', '2025-03-01 11:30:00', 28, NULL),
    ('Incendios forestales en Australia', 'Incendios incontrolables arrasan el sureste de Australia, afectando a la fauna y obligando a evacuaciones de emergencia.', 2, 'pendiente', '2025-03-01 12:45:00', 5, NULL),
    ('Inundaciones en India', 'Las lluvias monzónicas provocan inundaciones catastróficas en Bengala Occidental, con miles de desplazados.', 2, 'pendiente', '2024-03-01 13:50:00', 27, NULL),
    ('Ola de frío en Rusia', 'Temperaturas de -40°C paralizan Siberia, con cortes de energía y emergencias por hipotermia.', 2, 'pendiente', '2025-03-01 14:00:00', 29, NULL),
    ('Erupción volcánica en Indonesia', 'El volcán Merapi entra en erupción, lanzando ceniza a 15 km de altura y evacuaciones en Java Central.', 3, 'pendiente', '2025-03-01 15:10:00', 31, NULL),
    ('Tormenta de arena en Arabia Saudita', 'Una tormenta de arena reduce la visibilidad a cero en Riad, paralizando el tráfico aéreo y terrestre.', 2, 'pendiente', '2025-03-01 16:20:00', 32, NULL),
    ('Crisis sanitaria en Bangladés', 'Brote de cólera en Daca satura hospitales. Autoridades declaran estado de emergencia sanitaria.', 5, 'pendiente', '2025-03-01 17:30:00', 34, NULL),
    ('Conflictos civiles en Sudán', 'Enfrentamientos armados en Jartum dejan cientos de heridos. ONU urge al cese al fuego inmediato.', 3, 'pendiente', '2025-03-01 18:40:00', 13, NULL),
    ('Accidente ferroviario en Álava', 'Descarrilamiento de tren de mercancías cerca de Vitoria-Gasteiz. No se reportan heridos graves.', 1, 'pendiente', '2025-03-01 19:00:00', 78, NULL),
    ('Nevadas en Guipúzcoa', 'Nieve acumula 70 cm en zonas montañosas, cortando accesos a pueblos del interior.', 2, 'pendiente', '2025-03-02 08:15:00', 79, NULL),
    ('Deslizamientos en Vizcaya', 'Lluvias torrenciales provocan corrimientos de tierra en carreteras de la costa vizcaína.', 2, 'pendiente', '2025-03-02 09:20:00', 80, NULL),
    ('Cierre de aeropuerto en Las Palmas', 'Niebla densa obliga a cancelar vuelos en el aeropuerto de Gran Canaria durante 12 horas.', 4, 'pendiente', '2025-03-02 10:30:00', 81, NULL),
    ('Alerta por ceniza volcánica en Tenerife', 'Actividad sísmica incrementa en el Teide. Se establece perímetro de seguridad.', 2, 'pendiente', '2025-03-02 11:45:00', 82, NULL),
    ('Ola de calor en Albacete', 'Temperaturas récord de 44°C en la provincia. Recomiendan evitar actividades al aire libre.', 2, 'pendiente', '2025-03-02 12:50:00', 84, NULL),
    ('Sequía en Ciudad Real', 'Embalses al 15% de capacidad. Restricciones de agua para agricultura y ganadería.', 2, 'pendiente', '2025-03-02 13:00:00', 85, NULL),
    ('Incendio en Cuenca', 'Fuego forestal cerca del Parque Natural de la Serranía. Medios aéreos trabajan en la zona.', 2, 'pendiente', '2025-03-02 14:10:00', 86, NULL),
    ('Corte de agua en Guadalajara', 'Ruptura de tubería principal deja sin suministro al 70% de la ciudad. Reparación en curso.', 4, 'pendiente', '2025-03-02 15:20:00', 87, NULL),
    ('Accidente de tráfico en Toledo', 'Colisión frontal en la CM-40 con dos víctimas graves. Retenciones de 5 km.', 1, 'pendiente', '2024-03-02 16:30:00', 88, NULL),
    ('Robos en Ávila', 'Ola de robos en viviendas del casco histórico. Policía investiga banda organizada.', 3, 'pendiente', '2024-03-02 17:40:00', 89, NULL),
    ('Manifestación en Burgos', 'Protesta masiva por el cierre de fábricas. Cortes en el centro histórico.', 1, 'pendiente', '2025-03-02 18:00:00', 90, NULL),
    ('Cierre de carreteras en León', 'Avalancha de nieve bloquea puertos de montaña en la Cordillera Cantábrica.', 4, 'pendiente', '2025-03-03 08:15:00', 91, NULL),
    ('Fallo eléctrico en Palencia', 'Apagón generalizado por tormenta eléctrica. Equipos trabajan para restablecer servicio.', 4, 'pendiente', '2025-03-03 09:20:00', 92, NULL),
    ('Inundaciones en Segovia', 'Río Eresma se desborda anegando parques y zonas deportivas. Bomberos en alerta.', 2, 'pendiente', '2025-03-03 10:30:00', 94, NULL),
    ('Granizada en Soria', 'Piedras de hielo de 5 cm dañan cultivos y vehículos en la comarca de Tierras Altas.', 2, 'pendiente', '2025-03-03 11:45:00', 95, NULL),
    ('Accidente en Valladolid', 'Autobús urbano colisiona con tranvía. Diez heridos leves reportados.', 1, 'pendiente', '2025-03-03 12:50:00', 96, NULL),
    ('Concierto en Barcelona', 'Macroconcierto en Montjuic espera 50,000 asistentes. Cortes de tráfico programados.', 7, 'pendiente', '2025-03-03 13:00:00', 98, NULL),
    ('Feria en Girona', 'Feria medieval transforma el Barri Vell con espectáculos de cetrería y torneos.', 7, 'pendiente', '2025-03-03 14:10:00', 99, NULL),
    ('Corte de comunicaciones en Lleida', 'Fallo en central telefónica deja sin servicio a 20,000 usuarios. Reparación estimada 6 horas.', 6, 'pendiente', '2025-03-03 15:20:00', 100, NULL),
    ('Temporal en Tarragona', 'Vientos de 90 km/h derriban árboles y postes en el Camp de Tarragona.', 2, 'pendiente', '2025-03-03 16:30:00', 101, NULL),
    ('Inundaciones en Badajoz', 'Desbordamiento del Guadiana afecta zonas rurales. Evacuación preventiva de granjas.', 2, 'pendiente', '2025-03-03 17:40:00', 102, NULL),
    ('Sequía en Cáceres', 'Embalses extremeños al 30%. Prohibido el riego de jardines públicos y privados.', 2, 'pendiente', '2025-03-03 18:00:00', 103, NULL),
    ('Accidente marítimo en A Coruña', 'Colisión entre pesquero y carguero en la ría. Derrame de combustible controlado.', 1, 'pendiente', '2025-03-04 08:15:00', 104, NULL),
    ('Nevadas en Lugo', 'Carreteras secundarias impracticables. Máquinas quitanieves trabajan sin descanso.', 2, 'pendiente', '2025-03-04 09:20:00', 105, NULL),
    ('Corte de agua en Ourense', 'Rotura de tubería principal en el casco histórico. Reparación urgente en curso.', 4, 'pendiente', '2025-03-04 10:30:00', 106, NULL),
    ('Fallo en el transporte en Pontevedra', 'Huelga de autobuses urbanos paraliza el 80% de las rutas. Duración indefinida.', 1, 'pendiente', '2025-03-04 11:45:00', 107, NULL),
    ('Fiesta local en Alicante', 'Hogueras de San Juan atraen a miles de visitantes. Cortes en el paseo marítimo.', 7, 'pendiente', '2025-03-04 12:50:00', 112, NULL),
    ('Robos en Castellón', 'Asaltos a comercios en el Grao de Castellón. Refuerzo policial nocturno.', 3, 'pendiente', '2025-03-04 13:00:00', 113, NULL),
    ('Contaminación en Valencia', 'Nivel de PM2.5 supera límites legales. Recomendado uso de mascarillas.', 5, 'pendiente', '2025-03-04 14:10:00', 114, NULL),
    ('Incendio en Almería', 'Fuego en invernaderos de El Ejido controlado tras quemar 50 hectáreas.', 2, 'pendiente', '2025-03-04 15:20:00', 115, NULL),
    ('Accidente en El Ejido', 'Volcamiento de camión con carga tóxica en la A-7. Protocolo de emergencia activado.', 1, 'pendiente', '2025-03-04 16:30:00', 116, NULL),
    ('Inundaciones en Roquetas de Mar', 'Tormenta local anega calles del paseo marítimo. Bomberos drenando la zona.', 2, 'pendiente', '2025-03-04 17:40:00', 117, NULL),
    ('Temporal en Cádiz', 'Olas de 8 metros golpean el malecón. Cerrado acceso al puerto.', 2, 'pendiente', '2025-03-04 18:00:00', 118, NULL),
    ('Concierto en Jerez de la Frontera', 'Festival flamenco en el Alcázar congrega a 10,000 personas.', 7, 'pendiente', '2025-03-05 08:15:00', 119, NULL),
    ('Cierre portuario en Algeciras', 'Huelga de estibadores paraliza el 70% de la actividad comercial.', 4, 'pendiente', '2025-03-05 09:20:00', 120, NULL),
    ('Manifestación en Córdoba', 'Protesta por el cierre del hospital comarcal. Tráfico colapsado en Ronda de Isasa.', 1, 'pendiente', '2025-03-05 10:30:00', 121, NULL),
    ('Accidente en Puente Genil', 'Autobús escolar sufre pinchazo múltiple. Ningún menor herido.', 1, 'pendiente', '2025-03-05 11:45:00', 122, NULL),
    ('Robo en Montilla', 'Asalto a joyería en pleno centro con toma de rehenes. Policía negociando.', 3, 'pendiente', '2025-03-05 12:50:00', 123, NULL),
    ('Feria en Granada', 'Feria del Corpus transforma la ciudad con casetas y espectáculos ecuestres.', 7, 'pendiente', '2025-03-05 13:00:00', 124, NULL),
    ('Desprendimiento en Motril', 'Caída de rocas bloquea carretera N-323. Equipos de limpieza en camino.', 4, 'pendiente', '2025-03-05 14:10:00', 125, NULL),
    ('Fuga química en Huelva', 'Emergencia en polígono industrial por escape de cloro. Evacuación de 500 personas.', 3, 'pendiente', '2025-03-05 15:20:00', 127, NULL),
    ('Tormenta eléctrica en Jaén', 'Rayos causan incendios en olivares de la campiña. Pérdidas millonarias.', 2, 'pendiente', '2025-03-05 16:30:00', 130, NULL),
    ('Festival gastronómico en Málaga', 'Ruta de la tapa atrae a turistas nacionales. Zona centro peatonalizada.', 7, 'pendiente', '2025-03-05 17:40:00', 133, NULL),
    ('Accidente en Marbella', 'Colisión múltiple en la autovía AP-7 con tres vehículos implicados.', 1, 'pendiente', '2025-03-05 18:00:00', 134, NULL),
    ('Corte eléctrico en Sevilla', 'Subestación afectada por sobrecarga deja sin luz a 20,000 hogares.', 4, 'pendiente', '2024-03-06 08:15:00', 136, NULL);

-- --------------------------------------------------------------------------
-- Tabla: CONFIGURATIONS - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `configurations`;
CREATE TABLE IF NOT EXISTS `configurations` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único para cada configuración',
    `key_name` VARCHAR(100) NOT NULL COMMENT 'Clave única de la configuración (ejemplo: "site_title")',
    `value` TEXT NOT NULL COMMENT 'Valor de la configuración (ejemplo: "Mi Aplicación")',
    `description` TEXT DEFAULT NULL COMMENT 'Descripción de la configuración',
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación',
    `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Fecha y hora de la última actualización',
    PRIMARY KEY (`id`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;

INSERT INTO `configurations` (`key_name`, `value`, `description`) VALUES
    ('pagination_size', '10', 'Número de elementos por página');



-- --------------------------------------------------------------------------
-- Tabla: BACKUPS - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `backups`;
CREATE TABLE IF NOT EXISTS `backups` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único para cada archivo de respaldo',
    `file_name` VARCHAR(255) NOT NULL COMMENT 'Nombre del archivo de respaldo',
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación del respaldo',
    PRIMARY KEY (`id`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;

-- --------------------------------------------------------------------------
-- Tabla: ALERTA_ETIQUETA - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `alerta_etiqueta`;
CREATE TABLE IF NOT EXISTS `alerta_etiqueta` (
    `id_alerta` INT(11) NOT NULL COMMENT 'ID de la alerta',
    `id_etiqueta` INT(11) NOT NULL COMMENT 'ID de la etiqueta',
    PRIMARY KEY (`id_alerta`,`id_etiqueta`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `alerta_etiqueta` (`id_alerta`, `id_etiqueta`) VALUES
    (1, 1),
    (1, 3),
    (1, 5),
    (1, 9),
    (2, 3),
    (2, 5),
    (3, 2),
    (3, 7),
    (4, 1),
    (4, 10),
    (5, 16),
    (5, 17),
    (6, 1),
    (6, 9),
    (7, 2),
    (7, 4),
    (8, 17),
    (8, 24),
    (9, 1),
    (9, 8),
    (10, 1),
    (10, 9),
    (11, 17),
    (11, 19),
    (12, 2),
    (12, 12),
    (13, 9),
    (13, 10),
    (14, 2),
    (14, 17),
    (15, 15),
    (15, 26),
    (16, 13),
    (16, 23),
    (17, 25),
    (17, 26),
    (18, 5),
    (18, 24),
    (19, 2),
    (19, 7),
    (20, 20),
    (20, 22),
    (21, 17),
    (21, 18),
    (22, 33),
    (22, 36),
    (23, 34),
    (23, 36),
    (24, 14),
    (24, 28),
    (25, 17),
    (25, 19),
    (26, 15),
    (26, 26),
    (27, 16),
    (27, 17),
    (28, 13),
    (28, 23),
    (29, 21),
    (29, 22),
    (30, 34),
    (30, 36),
    (31, 20),
    (31, 22),
    (32, 20),
    (32, 22),
    (33, 34),
    (33, 36),
    (34, 17),
    (34, 24),
    (35, 34),
    (35, 36),
    (36, 13),
    (36, 23),
    (37, 34),
    (37, 36),
    (38, 21),
    (38, 22),
    (39, 35),
    (39, 36),
    (40, 3),
    (40, 5),
    (41, 21),
    (41, 22),
    (42, 33),
    (42, 34),
    (43, 16),
    (43, 17),
    (44, 34),
    (44, 36),
    (45, 1),
    (45, 17),
    (46, 15),
    (46, 27),
    (47, 1),
    (47, 9),
    (48, 15),
    (48, 26),
    (49, 29),
    (49, 30),
    (50, 7),
    (50, 24),
    (51, 3),
    (51, 5),
    (52, 25),
    (52, 26),
    (53, 21),
    (53, 22),
    (54, 13),
    (54, 23),
    (55, 9),
    (55, 10),
    (56, 2),
    (56, 17),
    (57, 34),
    (57, 36),
    (58, 17),
    (58, 24),
    (59, 15),
    (59, 26),
    (60, 34),
    (60, 36),
    (61, 20),
    (61, 22),
    (62, 33),
    (62, 34),
    (63, 13),
    (63, 23),
    (64, 34),
    (64, 36),
    (65, 21),
    (65, 22),
    (66, 35),
    (66, 36);

-- --------------------------------------------------------------------------
-- Tabla: CATEGORIA_ETIQUETA - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `categoria_etiqueta`;
CREATE TABLE `categoria_etiqueta` (
    `id_categoria` INT(11) NOT NULL,
    `id_etiqueta` INT(11) NOT NULL,
    PRIMARY KEY (`id_categoria`,`id_etiqueta`),
    KEY `id_etiqueta` (`id_etiqueta`),
    CONSTRAINT `categoria_etiqueta_fk1` FOREIGN KEY (`id_categoria`) REFERENCES `categorias` (`id`) ON DELETE CASCADE,
    CONSTRAINT `categoria_etiqueta_fk2` FOREIGN KEY (`id_etiqueta`) REFERENCES `etiquetas` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `categoria_etiqueta` (`id_categoria`, `id_etiqueta`) VALUES
    (1, 16),
    (1, 17),
    (1, 18),
    (1, 19),
    (2, 1),
    (2, 2),
    (2, 3),
    (2, 4),
    (2, 5),
    (2, 6),
    (2, 7),
    (2, 8),
    (2, 9),
    (2, 10),
    (3, 11),
    (3, 12),
    (3, 13),
    (3, 14),
    (3, 15),
    (4, 20),
    (4, 21),
    (4, 22),
    (4, 23),
    (4, 24),
    (5, 25),
    (5, 26),
    (5, 27),
    (5, 28),
    (6, 29),
    (6, 30),
    (6, 31),
    (6, 32),
    (7, 33),
    (7, 34),
    (7, 35),
    (7, 36),
    (8, 37),
    (8, 38),
    (8, 39),
    (8, 40);

-- --------------------------------------------------------------------------
-- Tabla: IMAGEN - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `imagen`;
CREATE TABLE IF NOT EXISTS `imagen` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único de la imagen',
    `nombre` VARCHAR(255) NOT NULL COMMENT 'Nombre original del archivo',
    `usuario_id` INT(11) NOT NULL COMMENT 'ID del usuario que subió la imagen',
    `alerta_id` INT(11) NOT NULL COMMENT 'ID de la alerta asociada',
    `tam_img` INT(11) NOT NULL COMMENT 'Tamaño del archivo en bytes',
    `metadatos` TEXT DEFAULT NULL COMMENT 'Información extra de la imagen (opcional)',
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de subida',
    PRIMARY KEY (`id`),
    KEY `usuario_id` (`usuario_id`),
    KEY `alerta_id` (`alerta_id`),
    CONSTRAINT `imagen_usuario_fk` FOREIGN KEY (`usuario_id`) REFERENCES `usuario` (`id`) ON DELETE CASCADE,
    CONSTRAINT `imagen_alerta_fk` FOREIGN KEY (`alerta_id`) REFERENCES `alertas` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `imagen` (`nombre`, `usuario_id`, `alerta_id`, `tam_img`, `metadatos`, `created_at`) VALUES
    ('tormenta_europa.jpg', 1, 1, 204800, 'Tormenta severa en Europa con fuertes vientos.', CURRENT_TIMESTAMP),
    ('inundaciones_espana.jpg', 1, 2, 256000, 'Inundaciones en España debido a lluvias intensas.', CURRENT_TIMESTAMP),
    ('incendio_andalucia.jpg', 1, 3, 512000, 'Incendio forestal en Andalucía.', CURRENT_TIMESTAMP),
    ('nevadas_aragon.jpg', 1, 4, 409600, 'Nevadas en Aragón bloqueando carreteras.', CURRENT_TIMESTAMP),
    ('accidente_asturias.jpg', 1, 5, 150000, 'Accidente en la autopista A-8 en Asturias.', CURRENT_TIMESTAMP),
    ('temporal_baleares.jpg', 1, 6, 300000, 'Temporal en las Islas Baleares con vientos fuertes.', CURRENT_TIMESTAMP),
    ('volcan_canarias.jpg', 1, 7, 350000, 'Aumento de la actividad volcánica en Canarias.', CURRENT_TIMESTAMP),
    ('derrumbe_cantabria.jpg', 1, 8, 180000, 'Derrumbe de carreteras en Cantabria.', CURRENT_TIMESTAMP),
    ('ola_calor_extremadura.jpg', 1, 9, 220000, 'Ola de calor extrema en Extremadura.', CURRENT_TIMESTAMP),
    ('temporal_galicia.jpg', 1, 10, 240000, 'Lluvias intensas y vientos en Galicia.', CURRENT_TIMESTAMP),
    ('manifestacion_madrid.jpg', 1, 11, 300000, 'Manifestación en Madrid afectando el tráfico.', CURRENT_TIMESTAMP),
    ('terremoto_murcia.jpg', 1, 12, 280000, 'Terremoto de magnitud 5.2 en Murcia.', CURRENT_TIMESTAMP),
    ('granizada_navarra.jpg', 1, 13, 350000, 'Granizo dañando infraestructuras en Navarra.', CURRENT_TIMESTAMP),
    ('tornado_la_rioja.jpg', 1, 14, 500000, 'Tornado en La Rioja causando daños estructurales.', CURRENT_TIMESTAMP),
    ('explosion_pais_vasco.jpg', 1, 15, 450000, 'Explosión en una zona industrial del País Vasco.', CURRENT_TIMESTAMP),
    ('robo_valencia.jpg', 1, 16, 100000, 'Robo masivo en la Comunidad Valenciana.', CURRENT_TIMESTAMP),
    ('emergencia_sanitaria_ceuta.jpg', 1, 17, 120000, 'Brote infeccioso en Ceuta.', CURRENT_TIMESTAMP),
    ('cierre_puerto_melilla.jpg', 1, 18, 150000, 'Cierre del puerto de Melilla por oleaje.', CURRENT_TIMESTAMP),
    ('incendio_salamanca.jpg', 1, 19, 190000, 'Incendio en una zona industrial de Salamanca.', CURRENT_TIMESTAMP),
    ('corte_agua_salamanca.jpg', 1, 20, 130000, 'Corte de agua por mantenimiento en Salamanca.', CURRENT_TIMESTAMP),
    ('transporte_salamanca.jpg', 1, 21, 170000, 'Fallo en el transporte público en Salamanca.', CURRENT_TIMESTAMP),
    ('concierto_salamanca.jpg', 1, 22, 250000, 'Concierto en Plaza Mayor de Salamanca.', CURRENT_TIMESTAMP),
    ('feria_libro_salamanca.jpg', 1, 23, 220000, 'Feria del libro en Salamanca.', CURRENT_TIMESTAMP),
    ('contaminacion_aire.jpg', 1, 24, 190000, 'Alerta de contaminación en Salamanca.', CURRENT_TIMESTAMP),
    ('manifestacion_plaza_mayor.jpg', 1, 25, 210000, 'Manifestación en Plaza Mayor de Salamanca.', CURRENT_TIMESTAMP),
    ('fuga_gas_garrido.jpg', 1, 26, 170000, 'Fuga de gas en el barrio de Garrido.', CURRENT_TIMESTAMP),
    ('accidente_cementerio.jpg', 1, 27, 150000, 'Accidente en la avenida principal de Cementerio.', CURRENT_TIMESTAMP),
    ('robo_pizarrales.jpg', 1, 28, 130000, 'Asalto en un comercio de Pizarrales.', CURRENT_TIMESTAMP),
    ('corte_electrico_san_jose.jpg', 1, 29, 120000, 'Corte de electricidad en el barrio de San José.', CURRENT_TIMESTAMP),
    ('mercado_medieval.jpg', 1, 30, 250000, 'Mercado medieval en Plaza Mayor de Salamanca.', CURRENT_TIMESTAMP),
    ('corte_agua_garrido.jpg', 1, 31, 180000, 'Fuga de agua en tuberías en Garrido.', CURRENT_TIMESTAMP),
    ('actividad_comunitaria.jpg', 1, 32, 160000, 'Jornada de limpieza comunitaria en Garrido.', CURRENT_TIMESTAMP);

-- --------------------------------------------------------------------------
-- Tabla: INCIDENCIAS - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `incidencias`;
CREATE TABLE IF NOT EXISTS `incidencias` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único de la incidencia',
    `descripcion` TEXT NOT NULL COMMENT 'Descripción detallada de la incidencia',
    `estado` ENUM('revisada', 'no revisada') NOT NULL DEFAULT 'no revisada' COMMENT 'Estado actual de la incidencia',
    `fecha_creacion` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación',
    `fecha_revision` DATETIME DEFAULT NULL COMMENT 'Fecha y hora de revisión',
    `creado_por` INT(11) DEFAULT NULL COMMENT 'ID del usuario que creó la incidencia',
    `revisado_por` INT(11) DEFAULT NULL COMMENT 'ID del usuario que revisó la incidencia',
    `respuesta` TEXT DEFAULT NULL COMMENT 'Respuesta a la incidencia',
    PRIMARY KEY (`id`),
    KEY `creado_por` (`creado_por`),
    KEY `revisado_por` (`revisado_por`),
    CONSTRAINT `incidencias_ibfk_1` FOREIGN KEY (`creado_por`) REFERENCES `usuario` (`id`) ON DELETE SET NULL,
    CONSTRAINT `incidencias_ibfk_2` FOREIGN KEY (`revisado_por`) REFERENCES `usuario` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `incidencias` (`descripcion`, `estado`, `fecha_creacion`, `fecha_revision`, `respuesta`) VALUES
    ('Primera incidencia', 'revisada', '2025-01-01 10:00:00', '2025-01-02 11:30:00', 'Incidencia resuelta satisfactoriamente'),
    ('Segunda incidencia', 'no revisada', '2025-01-05 14:25:00', NULL, NULL),
    ('Tercera incidencia', 'revisada', '2025-01-10 09:15:00', '2025-01-11 16:45:00', 'Problema solucionado con actualización de software'),
    ('Cuarta incidencia', 'no revisada', '2025-01-12 08:30:00', NULL, NULL),
    ('Quinta incidencia', 'revisada', '2025-01-15 13:20:00', '2025-01-16 10:10:00', 'Error corregido en la base de datos'),
    ('Sexta incidencia', 'no revisada', '2025-01-18 17:40:00', NULL, NULL),
    ('Séptima incidencia', 'revisada', '2025-01-20 11:50:00', '2025-01-21 09:25:00', 'Configuración restaurada a valores por defecto');

-- --------------------------------------------------------------------------
-- Tabla: NOTIFICACION - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `notificacion`;
CREATE TABLE IF NOT EXISTS `notificacion` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único de la notificación',
    `usuario_id` INT(11) NOT NULL COMMENT 'ID del usuario destinatario',
    `mensaje` TEXT NOT NULL COMMENT 'Contenido de la notificación',
    `fecha` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha y hora de creación',
    `leida` TINYINT(1) DEFAULT 0 COMMENT 'Indica si la notificación ha sido leída',
    PRIMARY KEY (`id`),
    KEY `usuario_id` (`usuario_id`),
    CONSTRAINT `notificacion_ibfk_1` FOREIGN KEY (`usuario_id`) REFERENCES `usuario` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `notificacion` (`usuario_id`, `mensaje`, `fecha`, `leida`) VALUES
    (1, 'Alerta: El servidor principal ha superado el límite de uso de CPU.', '2025-02-09 09:00:00', 1),
    (1, 'Alerta crítica: Fallo en la conexión con el servicio de base de datos.', '2025-02-08 18:30:00', 1),
    (2, 'Advertencia: Espacio de almacenamiento disponible al 90%.', '2025-02-07 15:45:00', 0),
    (2, 'Alerta: Se detectó un acceso no autorizado en el sistema.', '2025-02-06 12:20:00', 0),
    (3, 'Aviso: Reinicio programado del servidor para mantenimiento.', '2025-02-05 08:10:00', 1),
    (1, 'Notificación: Los backups automáticos se completaron exitosamente.', '2025-02-04 14:50:00', 0);

-- --------------------------------------------------------------------------
-- Tabla: ALERTAS_CREADOS - Creación y volcado de datos
-- --------------------------------------------------------------------------
DROP TABLE IF EXISTS `alertas_creados`;
CREATE TABLE IF NOT EXISTS `alertas_creados` (
    `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT 'ID único de la alerta creada',
    `titulo` VARCHAR(255) NOT NULL COMMENT 'Título de la alerta',
    `descripcion` TEXT DEFAULT NULL COMMENT 'Descripción detallada',
    `fecha_creacion` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Fecha de creación',
    `fecha_vencimiento` DATE DEFAULT NULL COMMENT 'Fecha de vencimiento',
    `estado` ENUM('activa', 'expirada', 'completada') DEFAULT 'activa' COMMENT 'Estado de la alerta',
    `acciones` VARCHAR(255) DEFAULT NULL COMMENT 'Acciones disponibles',
    `usuario_id` INT(11) DEFAULT NULL COMMENT 'ID del usuario que creó la alerta',
    PRIMARY KEY (`id`),
    KEY `usuario_id` (`usuario_id`),
    CONSTRAINT `alertas_creados_ibfk_1` FOREIGN KEY (`usuario_id`) REFERENCES `usuario` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `alertas_creados` (`titulo`, `descripcion`, `fecha_vencimiento`, `acciones`, `usuario_id`) VALUES
    ('Alerta 1', 'Primera descripción de alerta', '2025-03-01', 'Eliminar', 1),
    ('Alerta 2', 'Segunda descripción de alerta', '2025-03-05', 'Eliminar', 2),
    ('Alerta 3', 'Tercera descripción de alerta', '2025-02-20', 'Eliminar', 1),
    ('Alerta 4', 'Cuarta descripción de alerta', '2025-04-10', 'Eliminar', 3),
    ('Alerta 5', 'Quinta descripción de alerta', '2025-05-15', 'Eliminar', 2);

SET FOREIGN_KEY_CHECKS = 1;
COMMIT;